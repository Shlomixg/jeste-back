(function(t){function e(e){for(var r,a,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)a=o[d],n[a]&&f.push(n[a][0]),n[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],r=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=s[0]))}return t}var r={},n={0:0},i=[];function a(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=r,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,1]),s()})({0:function(t,e,s){t.exports=s("Vtdi")},"21qE":function(t,e,s){},"2I9Q":function(t,e,s){},35:function(t,e){},"9uLb":function(t,e,s){"use strict";var r=s("PxKo"),n=s.n(r);n.a},AlZA:function(t,e,s){"use strict";var r=s("eLNH"),n=s.n(r);n.a},BqLj:function(t,e,s){},D4Za:function(t,e,s){"use strict";var r=s("cKFu"),n=s.n(r);n.a},DXu0:function(t,e,s){"use strict";var r=s("21qE"),n=s.n(r);n.a},"E5/d":function(t,e,s){"use strict";var r=s("BqLj"),n=s.n(r);n.a},"EG/1":function(t,e,s){},ENq7:function(t,e,s){"use strict";var r=s("RHvF"),n=s.n(r);n.a},ERK8:function(t,e,s){},N8Wf:function(t,e,s){"use strict";var r=s("RGt5"),n=s.n(r);n.a},PxKo:function(t,e,s){},RGt5:function(t,e,s){},RHvF:function(t,e,s){},RnhZ:function(t,e,s){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function n(t){var e=i(t);return s(e)}function i(t){var e=r[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(r)},n.resolve=i,t.exports=n,n.id="RnhZ"},UTMA:function(t,e,s){"use strict";var r=s("ERK8"),n=s.n(r);n.a},Vtdi:function(t,e,s){"use strict";s.r(e);s("yt8O"),s("VRzm");var r=s("Kw5r"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("v-app",[s("v-navigation-drawer",{attrs:{app:"",fixed:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",{staticClass:"pa-1"},[t.user?s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.user.img.url}})]),s("v-list-tile-content",[t.user?s("v-list-tile-title",[t._v(t._s(t.user.details.firstName)+" "+t._s(t.user.details.lastName))]):t._e()],1)],1):t._e()],1),s("v-list",{staticClass:"pt-0"},[s("v-divider"),t._l(t.menuItems,function(e,r){return 2===r&&!t.user||2!==r?s("v-list-tile",{key:e.title,attrs:{to:e.link,exact:""}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1):t._e()}),t.user?s("v-list-group",{attrs:{"prepend-icon":"account_circle",value:"true"}},[s("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[s("v-list-tile-title",[t._v(t._s(t.user.details.firstName)+" "+t._s(t.user.details.lastName))])],1),s("v-list-tile",{attrs:{to:"/user/"+t.user._id,excat:""}},[s("v-list-tile-title",[t._v("Profile")]),s("v-list-tile-action",[s("v-icon",[t._v("account_circle")])],1)],1),s("v-list-tile",{attrs:{to:"/user/settings",excat:""}},[s("v-list-tile-title",[t._v("Settings")]),s("v-list-tile-action",[s("v-icon",[t._v("settings")])],1)],1),s("v-list-tile",{on:{click:t.logout}},[s("v-list-tile-title",[t._v("Logout")]),s("v-list-tile-action",[s("v-icon",[t._v("exit_to_app")])],1)],1)],1):t._e()],2)],1),s("v-toolbar",{staticClass:"white--text",attrs:{app:"",flat:"",color:"primary"}},[s("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",attrs:{dark:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("v-toolbar-title",{staticClass:"title-logo",on:{click:function(e){t.$router.push("/")}}},[t._v("JESTE")]),s("v-spacer",{staticClass:"hidden-xs-only"}),s("v-toolbar-items",{staticClass:"hidden-xs-only btns-wrapper"},t._l(t.menuItems,function(e,r){return s("v-menu",{key:r,attrs:{"mx-2":"","open-on-hover":"",bottom:"","offset-y":""}},[s("v-btn",{staticClass:"white--text",attrs:{slot:"activator",flat:"",to:e.link,exact:""},slot:"activator"},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.title)+"\n\t\t\t\t\t\t")]),t.user&&2===r?s("v-list",[s("v-list-tile",{attrs:{to:"/user/"+t.user._id,excat:""}},[s("v-list-tile-title",[t._v("Profile")])],1),s("v-list-tile",{attrs:{to:"/user/settings",excat:""}},[s("v-list-tile-title",[t._v("Settings")])],1),s("v-list-tile",{attrs:{excat:""},on:{click:t.logout}},[s("v-list-tile-title",[t._v("Logout")])],1)],1):t._e()],1)}))],1),s("v-content",{staticClass:"content"},[s("transition",{attrs:{name:"moveInUp"}},[s("router-view")],1)],1),s("v-snackbar",{attrs:{top:"top"===t.snackbarProps.y,bottom:"bottom"===t.snackbarProps.y,left:"left"===t.snackbarProps.x,right:"right"===t.snackbarProps.x,"multi-line":"multi-line"===t.snackbarProps.mode,vertical:"vertical"===t.snackbarProps.mode,timeout:t.snackbarProps.timeout,color:t.snackbarProps.bgColor},model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v("\n        "+t._s(t.snackbarProps.text)+"\n        "),s("v-btn",{attrs:{flat:"",color:t.snackbarProps.btnColor},on:{click:function(e){t.snackbarDisplay=!1}}},[t._v("\n          Close\n        ")])],1)],1),t._v("\n    Location: "+t._s(t.location)+"\n  ")],1)},i=[],a="show_snackbar_msg",o=new r["default"],l=(s("dRSK"),s("oyJW")),c=(s("INYr"),s("vDqi")),u=s.n(c),d="/jeste",f="/chat";function m(t){var e=t.txt,s=void 0===e?"":e,r=t.coords,n=void 0===r?"":r,i=t.category,a=void 0===i?"":i,o=t.maxDistance,l=void 0===o?1e4:o,c=t.maxPrice,f=void 0===c?200:c,m="?q=".concat(s,"&coords=").concat(n,"&category=").concat(a,"&maxDistance=").concat(l,"&maxPrice=").concat(f);return u.a.get("".concat(d,"/").concat(m)).then(function(t){return t.data}).catch(function(t){return console.warn("Had a problem to load jestes:"),console.log(t),t})}function p(t){return u.a.get("".concat(d,"/").concat(t)).then(function(t){return t.data}).catch(function(e){return console.warn("Had a problem to load jeste ".concat(t,":")),console.log(e),e})}function v(t){return u.a.delete("".concat(d,"/").concat(t),t).then(function(t){return t.data}).catch(function(t){return t})}function h(t){return t._id?(delete t.req_user,u.a.put("".concat(d,"/").concat(t),t).then(function(t){return t.data}).catch(function(t){console.warn("Failed to update jeste"),console.log(t)})):u.a.post("".concat(d),t).then(function(t){return t.data})}function g(t){return u.a.get("".concat(f,"/").concat(t)).then(function(t){return t.data}).catch(function(e){return console.warn("Had a problem to load chat history of jeste ".concat(t,":")),console.log(e),e})}var j={query:m,getJesteByID:p,deleteJeste:v,saveJeste:h,getChatHistory:g},b="jeste",y="https://api.cloudinary.com/v1_1/".concat(b,"/image/upload");function _(t){var e=new FormData;return e.append("file",t),e.append("upload_preset","o93qhzis"),fetch(y,{method:"POST",body:e}).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){console.error(t)})}var x={uploadImg:_},k="/user";function w(){return u.a.get("".concat(k)).then(function(t){return t.data}).catch(function(t){return console.warn("Had a problem to load users:"),console.log(t),t})}function C(t){return u.a.get("".concat(k,"/").concat(t)).then(function(t){return t.data}).catch(function(e){return console.warn("Had a problem to load user ".concat(t,":")),console.log(e),e})}function $(t){return t._id?u.a.put("".concat(k,"/").concat(t),t).then(function(t){return t.data}).catch(function(t){console.warn("Failed to update user"),console.log(t)}):u.a.post("".concat(k),t).then(function(t){return t.data}).catch(function(t){console.warn("Failed to add user"),console.log(t)})}var O={query:w,getUserByID:C,saveUser:$},S="";function P(t){return u.a.put("".concat(S,"/login"),{user:t}).then(function(t){return t.data}).catch(function(t){return console.warn("Had a problem to log in:"),Promise.reject(t)})}function U(){return u.a.put("".concat(S,"/checklogin")).then(function(t){return t.data})}function D(){return u.a.put("".concat(S,"/logout")).then().catch(function(t){return console.warn("Had a problem to log out:"),console.log(t),t})}var E={login:P,logout:D,checkLogin:U};function T(){return new Promise(function(t,e){var s=null;if(!navigator.geolocation)return e(null);navigator.geolocation.getCurrentPosition(function(e){s={lat:e.coords.latitude,lng:e.coords.longitude},t(s)})})}var I,L,J,B,N,q,R={getUserLocation:T},z="user/mutations/userLoad",F="user/mutation/setLocation",A="user/mutation/setCurrChat",M="user/userLogout",Y="user/action/getUserLocation",V="user/actions/userLogin",X="user/actions/userCheckLogin",H="user/actions/userGetById",K="user/actions/uploadUserImg",W="user/actions/addUser",Q="user/getters/userConnected",G="user/getters/currChat",Z={state:{user:null,currLocation:{lat:null,lng:null},currChat:null},mutations:(I={},Object(l["a"])(I,z,function(t,e){var s=e.user;s&&(t.user=s)}),Object(l["a"])(I,M,function(t){t.user=null}),Object(l["a"])(I,F,function(t,e){var s=e.loc;t.currLocation=s}),Object(l["a"])(I,A,function(t,e){var s=e.data;t.currChat={jesteId:s.jesteId,userId:s.from._id}}),I),getters:(L={},Object(l["a"])(L,Q,function(t){return t.user}),Object(l["a"])(L,Y,function(t){return t.currLocation}),Object(l["a"])(L,G,function(t){return t.currChat}),L),actions:(J={},Object(l["a"])(J,X,function(t){return E.checkLogin().then(function(e){if(!e._id)throw"Not Logged";return t.commit(z,{user:e}),e})}),Object(l["a"])(J,V,function(t,e){var s=e.user;return E.login(s).then(function(e){return t.commit({type:z,user:e}),e})}),Object(l["a"])(J,M,function(t){return E.logout().then(t.commit(M))}),Object(l["a"])(J,H,function(t,e){var s=e.id;return console.log("id ig fot",s),O.getUserByID(s).then(function(t){return t[0]})}),Object(l["a"])(J,Y,function(t){return R.getUserLocation().then(function(e){return t.commit({type:F,loc:e}),e})}),Object(l["a"])(J,K,function(t,e){var s=e.image;return s?x.uploadImg(s).then(function(t){return t}):""}),Object(l["a"])(J,W,function(t,e){var s=e.user;return O.saveUser(s).then(function(t){return t})}),J)},tt="jeste/mutations/addJeste",et="jeste/mutations/updateJeste",st="jeste/mutations/updateFilter",rt="jeste/jestesLoad",nt="jeste/jesteSave",it="jeste/jesteDelete",at="jeste/actions/getJesteById",ot="jeste/actions/uploadJesteImg",lt="jeste/actions/uploadJesteImg",ct="jeste/getters/getJeste",ut="jeste/getters/jestesToDisplay",dt="jeste/getters/emptyJeste",ft="jeste/getters/getJesteCategories",mt="jeste/getters/getFilterBy",pt={state:{jestes:[],categories:["All","Delivery","Work","Other"],filterBy:{coords:"",txt:"",category:"",maxDistance:1e5,maxPrice:200}},mutations:(B={},Object(l["a"])(B,rt,function(t,e){var s=e.jestes;t.jestes=s}),Object(l["a"])(B,tt,function(t,e){var s=e.jeste;t.jestes.push(s)}),Object(l["a"])(B,et,function(t,e){var s=e.jeste,r=t.jestes.findIndex(function(t){return t._id===s._id});t.jestes.splice(r,1,s)}),Object(l["a"])(B,it,function(t,e){var s=e.id;t.jestes=t.jestes.filter(function(t){return t._id!==s})}),Object(l["a"])(B,st,function(t,e){var s=e.filter;for(var r in s)s[r]&&"coords"!==r?t.filterBy[r]=s[r]:s[r]&&"coords"===r&&(t.filterBy.coords="".concat(s.coords.lat,",").concat(s.coords.lng))}),B),getters:(N={},Object(l["a"])(N,mt,function(t){return t.filterBy}),Object(l["a"])(N,ft,function(t){return t.categories}),Object(l["a"])(N,ut,function(t){return t.jestes}),Object(l["a"])(N,ct,function(t){return function(e){return t.jestes.find(function(t){return t._id===e})}}),Object(l["a"])(N,dt,function(){return{from_loc:"",destination_loc:{type:"Point",coordinates:[null,null]},ended_at:null,req_user_id:null,res_user_id:null,created_at:null,title:"",description:"",price:50,category:"",img:{},address_components:null,formatted_address:"",time_frame:{from:"",until:""},keywords:[],status:0}}),N),actions:(q={},Object(l["a"])(q,rt,function(t,e){var s=e.filterBy,r=void 0===s?"":s;return r||(r=t.state.filterBy),j.query(r).then(function(e){return t.commit({type:rt,jestes:e}),e})}),Object(l["a"])(q,at,function(t,e){var s=e.id;return j.getJesteByID(s).then(function(t){return t})}),Object(l["a"])(q,ot,function(t,e){var s=e.image;return s?x.uploadImg(s).then(function(t){return t}):""}),Object(l["a"])(q,nt,function(t,e){var s=e.jesteToSave,r=!!s._id;return r||(s.req_user_id=t.getters[Q]._id),j.saveJeste(s).then(function(e){return r?t.commit({type:et,jeste:e}):t.commit({type:tt,jeste:e}),e})}),Object(l["a"])(q,it,function(t,e){var s=e.id;return j.deleteJeste(s).then(function(){return t.commit({type:it,id:s})}).catch(function(t){return t})}),Object(l["a"])(q,lt,function(t,e){var s=e.jesteId;return j.getChatHistory(s).then(function(t){return t}).catch(function(t){return t})}),q)},vt={name:"app",created:function(){var t=this;console.log("--- Jeste App ---"),this.$store.getters.USER_CONNECTED||this.loadUser(),this.$store.dispatch(Y).then(function(e){t.$store.commit({type:st,filter:{coords:e}}),t.loadJestes()})},sockets:{reciveMsg:function(){alert("recive msg")}},mounted:function(){var t=this;o.$on(a,function(e){return t.toggleSnackbar(e)})},data:function(){return{drawer:null,menuItems:[{title:"Home",icon:"home",link:"/"},{title:"Jeste",icon:"assistant",link:"/jeste"},{title:"Signup \\ Login",icon:"swap_horizontal_circle",link:"/login"},{title:"About",icon:"info",link:"/about"}],searchValue:"",snackbarDisplay:!1,snackbarProps:{y:"top",x:null,mode:"multi-line",timeout:3e3,text:"",type:"black"}}},computed:{user:function(){return this.$store.getters[Q]},location:function(){return this.$store.getters[Y]}},methods:{loadUser:function(){this.$store.dispatch(X).then(function(t){console.log("User Loggedin")}).catch(function(t){return console.log(t)})},loadJestes:function(){this.$store.dispatch({type:rt})},pushToLink:function(t){this.$router.push(t)},toggleSnackbar:function(t){this.snackbarProps.text=t.text,this.snackbarProps.bgColor=t.bgColor?t.bgColor:this.snackbarProps.bgColor,this.snackbarDisplay=!0},logout:function(){var t=this,e=this.$store.getters[Q].details.firstName;this.$store.dispatch(M).then(function(s){o.$emit(a,{text:"Bey ".concat(e),bgColor:"info"}),console.log("Logged out successfuly"),t.$router.push("/")})}},watch:{user:function(){this.user?(this.$socket.emit("userLogged",{userId:this.user._id}),this.menuItems[2]={title:this.user.details.firstName+" "+this.user.details.lastName,link:"#",icon:"account_circle"}):this.menuItems[2]={title:"Signup \\ Login",link:"/login",icon:"swap_horizontal_circle"}},snackbarDisplay:function(){this.snackbarDisplay||(this.snackbarProps.bgColor="black",this.snackbarProps.btnColor="white")}},snackbarDisplay:function(){this.snackbarDisplay||(this.snackbarProps.bgColor="black",this.snackbarProps.btnColor="white")}},ht=vt,gt=(s("XAuw"),s("KHd+")),jt=Object(gt["a"])(ht,n,i,!1,null,null,null),bt=jt.exports,yt=s("jE9Z"),_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"home"},[t._m(0),s("JesteList",{attrs:{jestes:t.jestesToDisplay}})],1)},xt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"back-img"},[s("section",{staticClass:"main-content"},[s("div",{staticClass:"header"},[t._v("jeste")]),s("div",{staticClass:"sub-header"},[t._v("help others | get help")])])])}],kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"grid-list-md":""}},[t.jestes?s("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},t._l(t.jestes,function(t){return s("JestePreview",{key:t._id,attrs:{to:"/jeste/"+t._id,jeste:t}})})):t._e()],1)},wt=[],Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"jeste-card-wrapper",attrs:{xs12:"",sm4:"",md3:""}},[s("v-card",{staticClass:"jeste-card",attrs:{tile:"",hover:"",to:"/jeste/"+t.jeste._id,height:"400px"}},[s("v-card-media",{attrs:{src:t.imgUrl,height:"200px"}}),s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.jeste.title))]),s("span",{staticClass:"grey--text"},[t._v(t._s(t.distance))]),s("div",{ref:"desc",staticClass:"block-with-text"},[t._v(t._s(t.jeste.description))])])]),s("v-card-actions",{staticClass:"actions"},[s("v-spacer"),s("v-btn",{attrs:{flat:"",color:"primary",to:"/jeste/"+t.jeste._id}},[t._v("details")])],1)],1)],1)},$t=[],Ot=s("wd/R"),St=s.n(Ot),Pt={name:"jestePreview",props:{jeste:Object},computed:{reqUser:function(){return this.jeste.req_user.details},distance:function(){var t=(this.jeste.destination_loc.calculated/1e3).toFixed(2);return"".concat(t," km away from you")},imgUrl:function(){return this.jeste.img&&this.jeste.img.url?this.jeste.img.url:""}},filters:{dateFormat:function(t){return St()(+t).fromNow()+", ("+St()(+t).format("HH:mm:ss, DD/MM/YYYY")+")"}}},Ut=Pt,Dt=(s("dhuX"),Object(gt["a"])(Ut,Ct,$t,!1,null,"e670d670",null)),Et=Dt.exports,Tt={name:"jesteList",components:{JestePreview:Et},props:["jestes"]},It=Tt,Lt=(s("9uLb"),Object(gt["a"])(It,kt,wt,!1,null,"3f006136",null)),Jt=Lt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md7:""}},[s("v-text-field",{attrs:{color:"secondary",flat:"","hide-details":"",clearable:"","prepend-inner-icon":"search",label:"Free Text"},on:{"click:prepend-inner":t.filterJestes},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.filterJestes(e):null}},model:{value:t.filterBy.txt,callback:function(e){t.$set(t.filterBy,"txt",e)},expression:"filterBy.txt"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-select",{attrs:{color:"secondary",items:t.categories,label:"Categories"},model:{value:t.filterBy.category,callback:function(e){t.$set(t.filterBy,"category",e)},expression:"filterBy.category"}})],1),s("v-flex",{attrs:{xs8:"",sm4:""}},[s("v-slider",{attrs:{color:"secondary",label:"Price",max:200},model:{value:t.filterBy.maxPrice,callback:function(e){t.$set(t.filterBy,"maxPrice",e)},expression:"filterBy.maxPrice"}})],1),s("v-spacer",{staticClass:"hidden-sm-and-up"}),s("v-flex",{staticClass:"text-slider",attrs:{xs2:"",sm1:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{color:"secondary",type:"number"},model:{value:t.filterBy.maxPrice,callback:function(e){t.$set(t.filterBy,"maxPrice",e)},expression:"filterBy.maxPrice"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs8:"",sm4:""}},[s("v-slider",{attrs:{color:"secondary",label:"Distance (km)",max:100},model:{value:t.filterBy.maxDistance,callback:function(e){t.$set(t.filterBy,"maxDistance",e)},expression:"filterBy.maxDistance"}})],1),s("v-spacer",{staticClass:"hidden-sm-and-up"}),s("v-flex",{staticClass:"text-slider",attrs:{xs2:"",sm1:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{color:"secondary",type:"number"},model:{value:t.filterBy.maxDistance,callback:function(e){t.$set(t.filterBy,"maxDistance",e)},expression:"filterBy.maxDistance"}})],1)],1)],1)},Nt=[],qt={name:"jesteFIlter",data:function(){return{filterBy:this.$store.getters[mt],categories:this.$store.getters[ft]}},methods:{filterJestes:function(){console.log("filterBy:",this.filterBy),this.$store.dispatch({type:rt,filterBy:this.filterBy})}}},Rt=qt,zt=(s("qd0Q"),Object(gt["a"])(Rt,Bt,Nt,!1,null,"269d4189",null)),Ft=zt.exports,At={name:"home",components:{JesteList:Jt,JesteFilter:Ft},computed:{jestesToDisplay:function(){return this.$store.getters[ut]}}},Mt=At,Yt=(s("AlZA"),Object(gt["a"])(Mt,_t,xt,!1,null,"77c6f917",null)),Vt=Yt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"jeste-app"},[s("v-jumbotron",{staticClass:"jumbotron",attrs:{height:"300px",dark:""}},[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"align-center":"",wrap:""}},[s("div",{staticClass:"filter-header"},[t._v("do jestes for others.")]),s("JesteFilter")],1)],1)],1),s("JesteList",{attrs:{jestes:t.jestesToDisplay}}),s("v-btn",{attrs:{fixed:"",fab:"",bottom:"",right:"",ripple:"",color:"secondary",to:"/jeste/edit"}},[s("v-icon",[t._v("add")])],1)],1)},Ht=[],Kt={name:"jesteApp",components:{JesteList:Jt,JesteFilter:Ft},computed:{jestesToDisplay:function(){return this.$store.getters[ut]}}},Wt=Kt,Qt=(s("UTMA"),Object(gt["a"])(Wt,Xt,Ht,!1,null,"3e736a82",null)),Gt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[s("v-flex",{staticClass:"container-wrapper"},[s("v-card",{attrs:{grow:""}},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v(t._s(t.isEdit?"Edit":"Add")+" Jeste")])],1),s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-card-text",[s("v-text-field",{attrs:{box:"",label:"Title",required:""},model:{value:t.jesteToSave.title,callback:function(e){t.$set(t.jesteToSave,"title",e)},expression:"jesteToSave.title"}}),s("v-textarea",{attrs:{box:"",label:"Description",hint:"Few words about the jeste",required:""},model:{value:t.jesteToSave.description,callback:function(e){t.$set(t.jesteToSave,"description",e)},expression:"jesteToSave.description"}}),s("ComboBox",{model:{value:t.jesteToSave.keywords,callback:function(e){t.$set(t.jesteToSave,"keywords",e)},expression:"jesteToSave.keywords"}}),s("v-select",{attrs:{box:"",items:t.categories,label:"Categories",hint:"Type of the Jeste"},model:{value:t.jesteToSave.category,callback:function(e){t.$set(t.jesteToSave,"category",e)},expression:"jesteToSave.category"}}),s("ImageUpload",{attrs:{imgUrl:t.imageUrl},model:{value:t.imageFile,callback:function(e){t.imageFile=e},expression:"imageFile"}}),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs9:""}},[s("v-slider",{attrs:{max:200,"thumb-label":"",label:"Price"},model:{value:t.jesteToSave.price,callback:function(e){t.$set(t.jesteToSave,"price",e)},expression:"jesteToSave.price"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs2:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{type:"number"},model:{value:t.jesteToSave.price,callback:function(e){t.$set(t.jesteToSave,"price",e)},expression:"jesteToSave.price"}})],1)],1),s("v-text-field",{ref:"autocomplete",attrs:{box:"",label:"Street","append-icon":"search",rules:t.addressRules,required:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}},model:{value:t.jesteToSave.formatted_address,callback:function(e){t.$set(t.jesteToSave,"formatted_address",e)},expression:"jesteToSave.formatted_address"}}),s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t.jesteToSave?s("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:t.position,zoom:15,"map-type-id":"terrain"}},[s("GmapMarker",{attrs:{position:t.position,clickable:!1,draggable:!0},on:{click:function(e){t.center=t.position}}})],1):t._e()],1)],1),s("v-card-actions",[s("v-btn",{attrs:{color:"secondary"},on:{click:function(e){t.$router.go(-1)}}},[t._v("cancel")]),s("v-btn",{attrs:{color:"secondary"},on:{click:t.clear}},[t._v("clear")]),s("v-spacer"),s("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("submit")])],1)],1)],1)],1)],1)],1)},te=[],ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-combobox",{attrs:{box:"",filter:t.filter,"hide-no-data":!t.search,items:t.items,"search-input":t.search,"hide-selected":"",label:"Enter Keywords",multiple:"","small-chips":"",solo:""},on:{"update:searchInput":function(e){t.search=e}},scopedSlots:t._u([{key:"selection",fn:function(e){var r=e.item,n=e.parent,i=e.selected;return r===Object(r)?[s("v-chip",{attrs:{color:r.color+" lighten-1",selected:i,label:"",small:""}},[s("span",{staticClass:"pr-2"},[t._v("\n\t\t\t\t"+t._s(r.text)+"\n\t\t\t")]),s("v-icon",{attrs:{small:""},on:{click:function(t){n.selectItem(r)}}},[t._v("close")])],1)]:void 0}},{key:"item",fn:function(e){var r=e.index,n=e.item;e.parent;return[s("v-list-tile-content",[t.editing===n?s("v-text-field",{attrs:{autofocus:"",flat:"","background-color":"transparent","hide-details":"",solo:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.edit(r,n)}},model:{value:t.editing.text,callback:function(e){t.$set(t.editing,"text",e)},expression:"editing.text"}}):s("v-chip",{attrs:{color:n.color+" lighten-3",dark:"",label:"",small:""}},[t._v("\n\t\t\t\t"+t._s(n.text)+"\n\t\t\t")])],1),s("v-spacer"),s("v-list-tile-action",{on:{click:function(t){t.stopPropagation()}}},[s("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.edit(r,n)}}},[s("v-icon",[t._v(t._s(t.editing!==n?"edit":"check"))])],1)],1)]}}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[s("template",{slot:"no-data"},[s("v-list-tile",[s("span",{staticClass:"subheading"},[t._v("Create")]),s("v-chip",{attrs:{color:t.colors[t.nonce-1]+" lighten-3",label:"",small:""}},[t._v("\n\t\t\t\t"+t._s(t.search)+"\n\t\t\t")])],1)],1)],2)},se=[],re=(s("a1Th"),{props:["value"],data:function(){return{activator:null,attach:null,colors:["green","purple","indigo","cyan","teal","orange","blue","yellow","red"],editing:null,index:-1,items:[{header:"Select a keyword or create one"},{text:"Foo",color:"blue"},{text:"Bar",color:"red"}],nonce:1,menu:!1,model:[],x:0,search:null,y:0}},computed:{isEdit:function(){return!!this.jesteToSave&&!!this.jesteToSave.id}},methods:{edit:function(t,e){this.editing?(this.editing=null,this.index=-1):(this.editing=e,this.index=t)},filter:function(t,e,s){if(t.header)return!1;var r=function(t){return null!=t?t:""},n=r(s),i=r(e);return n.toString().toLowerCase().indexOf(i.toString().toLowerCase())>-1}},watch:{nonce:function(t){t>this.colors.length&&(this.nonce=1)},value:function(t){var e=this;!t||this.model.length>0||(this.model=t.map(function(t){return{text:t,color:e.colors[e.nonce-1]}}),this.nonce++)},model:function(t,e){var s=this;if(t.length!==e.length){this.model=t.map(function(t){return"string"===typeof t&&(t={text:t,color:s.colors[s.nonce-1]},s.nonce++,s.items.push(t)),t});var r=this.model.map(function(t){return t.text});this.$emit("input",r)}}}}),ne=re,ie=(s("DXu0"),Object(gt["a"])(ne,ee,se,!1,null,null,null)),ae=ie.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,height:"150"}}):t._e(),s("v-text-field",{attrs:{box:"",label:"Select Image","append-icon":"attach_file"},on:{click:t.pickFile,focus:t.pickFile,"click:append":t.pickFile},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),s("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1)},le=[],ce=(s("f3/d"),{name:"imageUpload",props:{imgUrl:String},data:function(){return{imageName:"",imageUrl:this.imgUrl?this.imgUrl:"",imageFile:""}},watch:{imgUrl:function(){this.imageUrl=this.imgUrl?this.imgUrl:""}},methods:{pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,s=t.target.files;if(void 0!==s[0]){if(this.imageName=s[0].name,this.imageName.lastIndexOf(".")<=0)return;var r=new FileReader;r.readAsDataURL(s[0]),r.addEventListener("load",function(){e.imageUrl=r.result,e.imageFile=s[0],e.$emit("input",e.imageFile)})}else this.imageName="",this.imageFile="",this.imageUrl=""}}}),ue=ce,de=(s("N8Wf"),Object(gt["a"])(ue,oe,le,!1,null,null,null)),fe=de.exports,me={name:"jesteEdit",components:{ComboBox:ae,ImageUpload:fe},created:function(){var t=this.$route.params.id;t&&this.getJeste(t)},mounted:function(){var t=this;this.$gmapApiPromiseLazy().then(function(e){t.google=e,t.initGoogle()})},data:function(){var t=this;return{valid:!0,jesteToSave:JSON.parse(JSON.stringify(this.$store.getters[dt])),imageFile:null,imageUrl:null,categories:this.$store.getters[ft].splice(1),google:null,autocomplete:null,currPlace:null,addressRules:[function(t){return!!t||"Address is required"},function(e){return!!e&&t.currPlace&&t.currPlace.formatted_address===t.$refs.autocomplete.value||"Please type a valid address"}],id:"maps"}},computed:{isEdit:function(){return!!this.jesteToSave&&!!this.jesteToSave._id},position:function(){var t={lat:0,lng:0};return!this.isEdit&&this.$store.getters[Y].lat&&(t=this.$store.getters[Y]),this.jesteToSave.destination_loc.coordinates[0]&&(t={lat:+this.jesteToSave.destination_loc.coordinates[0],lng:+this.jesteToSave.destination_loc.coordinates[1]}),t},show:function(){return!!this.jesteToSave}},methods:{getJeste:function(t){var e=this;this.$store.dispatch({type:at,id:t}).then(function(t){e.jesteToSave=JSON.parse(JSON.stringify(t)),e.imageUrl=e.jesteToSave.img.url,console.log("r",e.imageUrl),e.currPlace={formatted_address:t.formatted_address}})},submit:function(){var t=this;this.$refs.form.validate()&&this.$store.dispatch({type:ot,image:this.imageFile}).then(function(e){e&&(t.jesteToSave.img=e),t.$store.dispatch({type:nt,jesteToSave:t.jesteToSave}).then(function(e){o.$emit(a,{text:"Jeste Saved Successfuly",bgColor:"success"}),t.$router.push("/jeste")}).catch(function(t){o.$emit(a,{text:"Error, Couldn't Save Jeste",bgColor:"error"})})})},clear:function(){this.$refs.form.reset()},initGoogle:function(){var t=this,e=this.$refs.autocomplete.$el.children[0].children[0].children[0].children[1];if(this.autocomplete=new this.google.maps.places.Autocomplete(e,{types:["geocode"]}),navigator.geolocation){var s=this;navigator.geolocation.getCurrentPosition(function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude},r=new window.google.maps.Circle({center:e,radius:t.coords.accuracy});s.autocomplete.setBounds(r.getBounds())})}this.autocomplete.addListener("place_changed",function(){t.currPlace=t.autocomplete.getPlace(),t.jesteToSave.address_components=t.currPlace.address_components,t.jesteToSave.formatted_address=t.currPlace.formatted_address,t.jesteToSave.destination_loc.coordinates.splice(0,1,+t.currPlace.geometry.location.lat()),t.jesteToSave.destination_loc.coordinates.splice(1,1,+t.currPlace.geometry.location.lng())})}}},pe=me,ve=(s("kEpX"),Object(gt["a"])(pe,Zt,te,!1,null,"0f7e4877",null)),he=ve.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[t.jeste?s("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[t.showChat?s("ChatCmp",{staticClass:"popo",attrs:{"jeste-id":t.jeste._id,"req-user-id":t.jeste.req_user_id,"res-user-id":t.jeste.res_user_id,"user-id":t.user._id}}):t._e(),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-card",{staticClass:"jeste-details-card",attrs:{height:"100%",hover:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("v-layout",{attrs:{row:"","justify-space-between":""}},[s("v-flex",[s("div",{staticClass:"headline mb-2"},[t._v(t._s(t.jeste.title))]),s("div",{staticClass:"grey--text mb-2"},[t._v(t._s(t.jeste.formatted_address))]),s("div",{staticClass:"desc"},[t._v(t._s(t.jeste.description))])]),t.reqUser?s("v-flex",{staticClass:"user",attrs:{xs2:"","ml-4":""}},[s("router-link",{attrs:{to:"/user/"+t.reqUser._id}},[s("v-avatar",{attrs:{size:"50px",color:"grey lighten-4"}},[s("img",{attrs:{src:t.reqUser.img.url,alt:"avatar"}})]),s("div",{staticClass:"grey--text"},[t._v(t._s(t.reqUser.details.firstName)+" "+t._s(t.reqUser.details.lastName))])],1)],1):t._e()],1)],1),s("v-card-actions",[t.canEdit||!t.user||t.jeste.res_user_id?t._e():s("v-btn",{attrs:{flat:"",color:"blue"},on:{click:function(e){return e.preventDefault(),t.respond(e)}}},[t._v("Jeste It!")]),t.canEdit?s("v-btn",{attrs:{flat:"",to:"/jeste/"+t.jeste._id+"/edit"}},[t._v("Edit")]):t._e(),t.canEdit?s("v-btn",{attrs:{fla:"",t:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Delete")]):t._e(),s("v-spacer")],1)],1)],1),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-card",{attrs:{hover:"",height:"100%"}},[t.jeste.img?s("v-card-media",{attrs:{src:t.jeste.img.url,height:"400px"}}):t._e()],1)],1),s("v-flex",{attrs:{xs12:""}},[s("v-card",{attrs:{hover:""}},[s("v-card-text",[t.jeste.destination_loc?s("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:t.position,zoom:15,"map-type-id":"terrain"}},[s("GmapMarker",{attrs:{position:t.position,clickable:!1,draggable:!0},on:{click:function(e){t.center=t.position}}})],1):t._e()],1)],1)],1),s("v-dialog",{staticClass:"warning",attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Are you sure?")]),s("v-card-text",[t._v("\n\t\t\t\t\tOnce deleted, there's no way back...\n\t\t\t\t")]),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.dialog=!1}}},[t._v("\n\t\t\t\t\t\tCancel\n\t\t\t\t\t")]),s("v-spacer"),s("v-btn",{attrs:{color:"error",flat:"flat"},on:{click:function(e){t.deleteJeste()}}},[t._v("\n\t\t\t\t\t\tDelete\n\t\t\t\t\t")])],1)],1)],1)],1):t._e()],1)},je=[],be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("beautiful-chat",{ref:"chat",attrs:{colors:t.color,agentProfile:t.agentProfile,showTypingIndicator:t.isTyping,onMessageWasSent:t.onMessageWasSent,messageList:t.messageList,newMessagesCount:t.newMessagesCount,isOpen:t.isChatOpen,close:t.closeChat,open:t.openChat,showEmoji:!0,showFile:!0}})],1)},ye=[],_e={props:["jesteId","userId","reqUserId","resUserId"],sockets:{receivedMsg:function(t){var e=t.msg;console.log("this message was recived",e),e&&this.handleReceivedMsg(e)},isTyping:function(){var t=this;console.log("popo"),this.typingTimout&&clearTimeout(this.typingTimeout),this.isTyping=!0,setTimeout(function(e){t.isTyping=!1},1500)}},data:function(){return{color:{header:{bg:"#4e8cff",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#4e8cff",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"}},agentProfile:{teamName:"Vue Beautiful Chat",imageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png"},messageList:[],newMessagesCount:0,isChatOpen:!1,isTyping:!1,typingTimeout:null}},created:function(){var t=this;console.log("requserid",this.reqUserId),console.log("Res User",this.resUserId),this.userId===this.reqUserId?this.getUser(this.resUserId):this.getUser(this.reqUserId),this.$store.dispatch({type:lt,jesteId:this.jesteId}).then(function(e){console.log(e);var s=e.reduce(function(e,s){return s.msg.authorId===t.userId?s.msg.author="me":s.msg.author="them",e.push(s.msg),e},[]);t.messageList=s})},mounted:function(){var t=document.querySelector(".sc-user-input--text"),e=this;t.addEventListener("input",function(){e.handleTyping()})},methods:{handleReceivedMsg:function(t){t.author="them",(t.data.file||t.data.emoji||t.data.text.length>0)&&(this.newMessagesCount=this.isChatOpen?this.newMessagesCount:this.newMessagesCount+1,this.isTyping=!1,this.messageList.push(t),console.log("send"))},onMessageWasSent:function(t){t.timestamp=Date.now(),this.messageList.push(t),t.authorId=this.userId,this.$socket.emit("sendMsg",{msg:t,jesteId:this.jesteId}),console.log("msg",t)},openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat:function(){this.isChatOpen=!1},handleTyping:function(){this.$socket.emit("isTyping",{jesteId:this.jesteId})},getUser:function(t){var e=this;console.log("method id",t),this.$store.dispatch({type:H,id:t}).then(function(t){e.agentProfile.teamName=t.details.firstName+" "+t.details.lastName,e.agentProfile.imageUrl=t.img.url})}}},xe=_e,ke=(s("W4mX"),Object(gt["a"])(xe,be,ye,!1,null,null,null)),we=ke.exports,Ce={name:"jesteDetails",data:function(){return{jeste:{},dialog:!1,reqUser:null}},created:function(){this.getJeste().then(this.getUser)},mounted:function(){},methods:{getJeste:function(){var t=this,e=this.$route.params.id;return this.$store.dispatch({type:at,id:e}).then(function(e){return t.jeste=e})},deleteJeste:function(){var t=this;this.dialog=!1,this.$store.dispatch({type:it,id:this.jeste._id}).then(function(e){o.$emit(a,{text:"Jeste Deleted Successfully",bgColor:"success"}),t.$router.push("/")})},respond:function(){console.log("user",this.user),this.jeste.res_user_id=this.user._id,this.$socket.emit("jesteResponded",{jeste:this.jeste})},getUser:function(){var t=this;this.$store.dispatch({type:H,id:this.jeste.req_user_id}).then(function(e){t.reqUser=e})}},computed:{position:function(){if(this.jeste.destination_loc)return{lat:+this.jeste.destination_loc.coordinates[0],lng:+this.jeste.destination_loc.coordinates[1]}},canEdit:function(){return!this.jeste.ended_at&&this.user&&this.user._id===this.jeste.req_user_id},user:function(){return this.$store.getters[Q]},showChat:function(){return!!this.user&&!!this.jeste.res_user_id&&(this.user._id===this.jeste.res_user_id||this.user._id===this.jeste.req_user_id)}},components:{ChatCmp:we}},$e=Ce,Oe=(s("E5/d"),Object(gt["a"])($e,ge,je,!1,null,"7dd8d7af",null)),Se=Oe.exports,Pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"users"},[t._v("\n  users\n")])},Ue=[],De={name:"users"},Ee=De,Te=(s("D4Za"),Object(gt["a"])(Ee,Pe,Ue,!1,null,"73313d7c",null)),Ie=Te.exports,Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-edit"},[t._v("\n  user-edit\n")])},Je=[],Be={name:"userEdit"},Ne=Be,qe=(s("yriJ"),Object(gt["a"])(Ne,Le,Je,!1,null,"34745e40",null)),Re=qe.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[t.user?s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-card",[s("v-toolbar",{staticClass:"text--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v(t._s(t.user.details.firstName)+"'s Details")])],1),s("v-card-title",{attrs:{"primary-title":""}},[s("v-avatar",[s("img",{attrs:{src:t.imgUrl,alt:"avatar"}})]),s("div",{staticClass:"v-title"},[s("div",{staticClass:"headline"},[t._v(t._s(t.user.details.firstName)+" "+t._s(t.user.details.lastName))]),s("span",{staticClass:"grey--text"},[t._v("Weizmen Street, Tel Aviv")])])],1),s("v-card-text",[s("v-list",{attrs:{"two-line":""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.user.details.age))]),s("v-list-tile-sub-title",[t._v("Age")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.user.mobile))]),s("v-list-tile-sub-title",[t._v("Mobile")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.user.email))]),s("v-list-tile-sub-title",[t._v("e-mail")])],1)],1),s("div",{staticClass:"sub-headline"},[t._v("Some words about you")]),t._v("\r\n\t\t\t\t\tI'm a thing. But, like most politicians, he promised more than he could deliver. You won't have time for sleeping, soldier, not with all the bed making you'll be doing. Then we'll go with that data file! Hey, you add a one and two zeros to that or we walk! You're going to do his laundry? I've got to find a way to escape.\r\n\t\t\t\t")],1)],1)],1),s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-tabs",{staticClass:"elevation-1",attrs:{grow:"",color:"primary","slider-color":"secondary"}},[t._l(t.tabs,function(e,r){return s("v-tab",{key:r,staticClass:"text--text"},[t._v("\r\n\t\t\t\t\t"+t._s(e.name)+"\r\n\t\t\t\t")])}),t._l(t.tabs,function(e,r){return s("v-tab-item",{key:r},[e.jestesList.length?s("v-card",{attrs:{flat:""}},[s("v-expansion-panel",t._l(e.jestesList,function(e,r){return s("v-expansion-panel-content",{key:r},[s("div",{staticClass:"jeste-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),s("v-card",[s("v-card-title",[s("div",[t._v("\r\n\t\t\t\t\t\t\t\t\t\t\tAddress:\r\n\t\t\t\t\t\t\t\t\t\t\t"),s("div",[t._v(t._s(e.formatted_address))])])]),s("v-card-text",[t._v("\r\n\t\t\t\t\t\t\t\t\t\tDescription: "+t._s(e.description)+"\r\n\t\t\t\t\t\t\t\t\t\t"),s("br"),t._v(" Keywords:\r\n\t\t\t\t\t\t\t\t\t\t"),t._l(e.keywords,function(e){return s("v-chip",{key:e,attrs:{label:"",outline:"",color:"secondary"}},[t._v(t._s(e))])})],2),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{outline:"",color:"primary",to:"/jeste/"+e._id}},[t._v("more details")])],1)],1)],1)}))],1):s("v-card",{attrs:{flat:""}},[s("v-card-text",[t._v("\r\n\t\t\t\t\t\t\tNo Relevant Jestes\r\n\t\t\t\t\t\t")])],1)],1)})],2)],1)],1):t._e()],1)},Fe=[],Ae={name:"userDetails",created:function(){this.getUser()},mounted:function(){},data:function(){return{userId:this.$route.params.id,tabs:[{name:"asked jestes",jestesList:[]},{name:"made jestes",jestesList:[]}],displayTabs:!1,user:null}},computed:{imgUrl:function(){return this.user&&this.user.img&&this.user.img.url?this.user.img.url:"https://vuetifyjs.com/apple-touch-icon-180x180.png"}},methods:{getUser:function(){var t=this;this.$store.dispatch({type:H,id:this.userId}).then(function(e){t.user=e,t.tabs[0].jestesList=e.req_jestes,t.tabs[1].jestesList=e.res_jestes})}}},Me=Ae,Ye=(s("ENq7"),Object(gt["a"])(Me,ze,Fe,!1,null,"333a4a91",null)),Ve=Ye.exports,Xe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},He=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"about"},[s("h1",[t._v("This is an about page")])])}],Ke={},We=Object(gt["a"])(Ke,Xe,He,!1,null,null,null),Qe=We.exports,Ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{staticClass:"container-wrapper",attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",lg6:""}},[s("Login")],1),s("v-flex",{attrs:{xs12:"",lg6:""}},[s("SignUp")],1)],1)],1)},Ze=[],ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{grow:""}},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v("Sign Up")])],1),s("v-form",{ref:"formSignUp",on:{submit:function(e){return e.preventDefault(),t.signup(e)}},model:{value:t.validSignUp,callback:function(e){t.validSignUp=e},expression:"validSignUp"}},[s("v-card-text",[s("v-text-field",{attrs:{box:"",label:"First Name",rules:t.fNameRules,hint:"Insert your first name",required:""},model:{value:t.user.details.firstName,callback:function(e){t.$set(t.user.details,"firstName",e)},expression:"user.details.firstName"}}),s("v-text-field",{attrs:{box:"",label:"Last Name",rules:t.lNameRules,hint:"Insert your last name",required:""},model:{value:t.user.details.lastName,callback:function(e){t.$set(t.user.details,"lastName",e)},expression:"user.details.lastName"}}),s("v-text-field",{attrs:{box:"",label:"E-mail",rules:t.emailRules,hint:"Insert a valid E-mail",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),s("v-text-field",{attrs:{box:"",mask:"phone",label:"Mobile Phone",rules:t.phoneRules,hint:"Insert your mobile phone number",required:""},model:{value:t.user.mobile,callback:function(e){t.$set(t.user,"mobile",e)},expression:"user.mobile"}}),s("v-text-field",{attrs:{box:"",label:"Password",rules:t.passwordRules,type:t.show?"text":"password","append-icon":t.show?"visibility_off":"visibility",hint:"At least 8 characters",required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),s("v-text-field",{ref:"autocomplete",attrs:{box:"",label:"Address",hint:"The address you base at","append-icon":"search",rules:t.addressRules,required:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}},model:{value:t.user.formatted_address,callback:function(e){t.$set(t.user,"formatted_address",e)},expression:"user.formatted_address"}}),s("v-text-field",{attrs:{box:"",type:"number",label:"Age",rules:t.ageRules,hint:"Insert your age",required:""},model:{value:t.user.details.age,callback:function(e){t.$set(t.user.details,"age",e)},expression:"user.details.age"}}),s("v-select",{attrs:{items:["Male","Female"],box:"",label:"Gender",rules:t.genderRules,hint:"Pick your gender",required:""},model:{value:t.user.details.gender,callback:function(e){t.$set(t.user.details,"gender",e)},expression:"user.details.gender"}}),s("ImageUpload",{model:{value:t.imageFile,callback:function(e){t.imageFile=e},expression:"imageFile"}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",type:"submit",disabled:!t.validSignUp,ripple:""}},[t._v("sign up")])],1)],1)],1)},es=[],ss={name:"signUp",components:{ImageUpload:fe},mounted:function(){var t=this;this.$gmapApiPromiseLazy().then(function(e){t.google=e,t.initGoogle()})},data:function(){var t=this;return{validSignUp:!0,user:{email:"",password:"",details:{firstName:"",lastName:"",age:"",gender:""},balance:100,mobile:"",image:null,formatted_address:null,address_components:null,base_loc:{type:"Point",coordinates:[null,null]}},imageFile:null,currPlace:null,autocomplete:null,fNameRules:[function(t){return!!t||"First name is required"}],lNameRules:[function(t){return!!t||"Last name is required"}],ageRules:[function(t){return!!t||"Age is required"}],genderRules:[function(t){return!!t||"Gender is required"}],phoneRules:[function(t){return!!t||"Mobile number is required"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"Please enter a valid email"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>=8||"Minimum 8 characters"}],show:!1,addressRules:[function(t){return!!t||"Address is required"},function(e){return!!e&&t.currPlace&&t.currPlace.formatted_address===t.$refs.autocomplete.value||"Please type a valid address"}]}},methods:{signup:function(){var t=this;this.$refs.formSignUp.validate()&&this.$store.dispatch({type:K,image:this.imageFile}).then(function(e){e&&(t.user.img=e),t.$store.dispatch({type:W,user:t.user}).then(function(e){o.$emit(a,{text:"Sign up succeseed. Now you can login",bgColor:"success"}),t.$router.push("/")}).catch(function(t){o.$emit(a,{text:"Sign up failed. Try again",bgColor:"error"}),console.log(t)})})},initGoogle:function(){var t=this,e=this.$refs.autocomplete.$el.children[0].children[0].children[0].children[1];if(this.autocomplete=new this.google.maps.places.Autocomplete(e,{types:["geocode"]}),navigator.geolocation){var s=this;navigator.geolocation.getCurrentPosition(function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude},r=new window.google.maps.Circle({center:e,radius:t.coords.accuracy});s.autocomplete.setBounds(r.getBounds())})}this.autocomplete.addListener("place_changed",function(){t.currPlace=t.autocomplete.getPlace(),t.user.address_components=t.currPlace.address_components,t.user.formatted_address=t.currPlace.formatted_address,t.user.base_loc.coordinates.splice(0,1,+t.currPlace.geometry.location.lat()),t.user.base_loc.coordinates.splice(1,1,+t.currPlace.geometry.location.lng())})}}},rs=ss,ns=(s("yX+h"),Object(gt["a"])(rs,ts,es,!1,null,"f1f40df2",null)),is=ns.exports,as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{grow:""}},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v("Login")])],1),s("v-form",{ref:"formLogin",on:{submit:function(e){return e.preventDefault(),t.login(e)}},model:{value:t.validLogin,callback:function(e){t.validLogin=e},expression:"validLogin"}},[s("v-card-text",[s("v-text-field",{attrs:{box:"",label:"E-mail",rules:t.emailRules,hint:"Insert a valid E-mail",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),s("v-text-field",{attrs:{box:"",label:"Password",rules:t.passwordRules,type:t.show?"text":"password","append-icon":t.show?"visibility_off":"visibility",hint:"At least 8 characters",required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",type:"submit",disabled:!t.validLogin,ripple:""}},[t._v("Login")])],1)],1)],1)},os=[],ls={name:"login",data:function(){return{validLogin:!0,user:{email:"",password:""},emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"Please enter a valid email"}],show:!1,passwordRules:[function(t){return!!t||"Password is required"}]}},methods:{login:function(){var t=this;this.$refs.formLogin.validate()&&this.$store.dispatch({type:V,user:this.user}).then(function(e){t.$socket.emit("userLogged",{userId:e._id}),o.$emit(a,{text:"Welcome back ".concat(e.details.firstName),bgColor:"success"}),t.$router.push("/")}).catch(function(t){o.$emit(a,{text:"Error, Could'nt sign up",bgColor:"error"}),console.log(t)})}}},cs=ls,us=(s("unY/"),Object(gt["a"])(cs,as,os,!1,null,"38764441",null)),ds=us.exports,fs={components:{SignUp:is,Login:ds}},ms=fs,ps=(s("st8m"),Object(gt["a"])(ms,Ge,Ze,!1,null,"85886080",null)),vs=ps.exports;r["default"].use(yt["a"]);var hs=new yt["a"]({routes:[{path:"/",name:"home",component:Vt},{path:"/login",name:"login",component:vs},{path:"/jeste",name:"jestes",component:Gt},{path:"/jeste/:id?/edit",name:"jesteEdit",component:he},{path:"/jeste/:id",name:"jesteDetails",component:Se},{path:"/user",name:"users",component:Ie},{path:"/user/:id?/edit",name:"userEdit",component:Re},{path:"/user/:id",name:"userDetails",component:Ve},{path:"/about",name:"about",component:Qe}]}),gs=s("L2JU");r["default"].use(gs["a"]);var js=new gs["a"].Store({modules:{JesteModule:pt,UserModule:Z},state:{},mutations:{},actions:{}}),bs=s("lIOY");Object(bs["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ys=s("zlta"),_s=s.n(ys),xs=s("xxji"),ks=(s("v0CA"),s("dV7z")),ws=s("ChK9"),Cs=s.n(ws),$s=s("gFX4"),Os=s.n($s),Ss="AIzaSyB1XEp2JKq8CAO8EbBSDGEvjrVC264DLPA",Ps=Object({NODE_ENV:"production",BASE_URL:"/"}).PORT?"/":"//localhost:3000";r["default"].use(Cs.a,Os()(Ps),js),r["default"].use(ks,{load:{key:Ss,libraries:"places"}}),r["default"].use(_s.a,{theme:{primary:"#039BE5",secondary:"#031424",accent:"#424242",text:"#fff",bg:"#e9e9e9",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50"}}),r["default"].use(xs["a"]),u.a.defaults.withCredentials=!0,r["default"].config.productionTip=!1,new r["default"]({router:hs,store:js,render:function(t){return t(bt)}}).$mount("#app")},W4mX:function(t,e,s){"use strict";var r=s("2I9Q"),n=s.n(r);n.a},XAuw:function(t,e,s){"use strict";var r=s("EG/1"),n=s.n(r);n.a},cKFu:function(t,e,s){},cx9d:function(t,e,s){},dhuX:function(t,e,s){"use strict";var r=s("gZks"),n=s.n(r);n.a},eLNH:function(t,e,s){},ekRp:function(t,e,s){},gZks:function(t,e,s){},jOs5:function(t,e,s){},kEpX:function(t,e,s){"use strict";var r=s("wAbT"),n=s.n(r);n.a},pJDI:function(t,e,s){},qd0Q:function(t,e,s){"use strict";var r=s("jOs5"),n=s.n(r);n.a},st8m:function(t,e,s){"use strict";var r=s("pJDI"),n=s.n(r);n.a},"unY/":function(t,e,s){"use strict";var r=s("wzpe"),n=s.n(r);n.a},wAbT:function(t,e,s){},wzpe:function(t,e,s){},"yX+h":function(t,e,s){"use strict";var r=s("ekRp"),n=s.n(r);n.a},yriJ:function(t,e,s){"use strict";var r=s("cx9d"),n=s.n(r);n.a}});
//# sourceMappingURL=app.2dd3e6ca.js.map