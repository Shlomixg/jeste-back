(function(t){function e(e){for(var r,a,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)a=o[d],i[a]&&m.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(r=!1)}r&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var r={},i={0:0},n=[];function a(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=r,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,1]),s()})({0:function(t,e,s){t.exports=s("Vtdi")},"21qE":function(t,e,s){},"2I9Q":function(t,e,s){},"2ZHj":function(t,e,s){"use strict";var r=s("GXB0"),i=s.n(r);i.a},"2bzj":function(t,e,s){},"316B":function(t,e,s){"use strict";var r=s("Ryd7"),i=s.n(r);i.a},38:function(t,e){},"4FNs":function(t,e,s){},"525C":function(t,e,s){"use strict";var r=s("Xk33"),i=s.n(r);i.a},"5CIG":function(t,e,s){"use strict";var r=s("2bzj"),i=s.n(r);i.a},"5UrT":function(t,e,s){},AZTE:function(t,e,s){"use strict";var r=s("5UrT"),i=s.n(r);i.a},DNju:function(t,e,s){"use strict";var r=s("4FNs"),i=s.n(r);i.a},DXu0:function(t,e,s){"use strict";var r=s("21qE"),i=s.n(r);i.a},"EG/1":function(t,e,s){},GTQB:function(t,e,s){"use strict";var r=s("WqRx"),i=s.n(r);i.a},GXB0:function(t,e,s){},MA0R:function(t,e,s){"use strict";var r=s("UnwT"),i=s.n(r);i.a},N8Wf:function(t,e,s){"use strict";var r=s("RGt5"),i=s.n(r);i.a},PLeS:function(t,e,s){},"R+NB":function(t,e,s){},RGt5:function(t,e,s){},RnhZ:function(t,e,s){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(t){var e=n(t);return s(e)}function n(t){var e=r[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}i.keys=function(){return Object.keys(r)},i.resolve=n,t.exports=i,i.id="RnhZ"},Ryd7:function(t,e,s){},UnwT:function(t,e,s){},VsDt:function(t,e,s){},Vtdi:function(t,e,s){"use strict";s.r(e);s("yt8O"),s("VRzm");var r=s("Kw5r"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("v-app",[s("v-navigation-drawer",{attrs:{app:"",fixed:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[s("v-list",{staticClass:"pa-1"},[t.user?s("v-list-tile",{attrs:{avatar:""}},[s("v-list-tile-avatar",[s("img",{attrs:{src:t.user.img.url}})]),s("v-list-tile-content",[t.user?s("v-list-tile-title",[t._v(t._s(t.user.details.firstName)+" "+t._s(t.user.details.lastName))]):t._e()],1)],1):t._e()],1),s("v-list",{staticClass:"pt-0"},[s("v-divider"),t._l(t.menuItems,function(e,r){return 2===r&&!t.user||2!==r?s("v-list-tile",{key:e.title,attrs:{to:e.link,exact:""}},[s("v-list-tile-action",[s("v-icon",[t._v(t._s(e.icon))])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(e.title))])],1)],1):t._e()}),t.user?s("v-list-group",{attrs:{"prepend-icon":"account_circle",value:"true"}},[s("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[s("v-list-tile-title",[t._v(t._s(t.user.details.firstName)+" "+t._s(t.user.details.lastName))])],1),s("v-list-tile",{attrs:{to:"/user/"+t.user._id,excat:""}},[s("v-list-tile-title",[t._v("Profile")]),s("v-list-tile-action",[s("v-icon",[t._v("account_circle")])],1)],1),s("v-list-tile",{attrs:{to:"/user/settings",excat:""}},[s("v-list-tile-title",[t._v("Settings")]),s("v-list-tile-action",[s("v-icon",[t._v("settings")])],1)],1),s("v-list-tile",{on:{click:t.logout}},[s("v-list-tile-title",[t._v("Logout")]),s("v-list-tile-action",[s("v-icon",[t._v("exit_to_app")])],1)],1)],1):t._e()],2)],1),s("v-toolbar",{staticClass:"white--text",attrs:{app:"",flat:"",color:"primary"}},[s("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",attrs:{dark:""},on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),s("v-toolbar-title",{staticClass:"title-logo",on:{click:function(e){t.$router.push("/")}}},[t._v("jeste")]),s("v-spacer",{staticClass:"hidden-xs-only"}),s("v-toolbar-items",{staticClass:"hidden-xs-only btns-wrapper"},t._l(t.menuItems,function(e,r){return s("v-menu",{key:r,attrs:{"mx-2":"","open-on-hover":"",bottom:"","offset-y":""}},[s("v-btn",{staticClass:"white--text",attrs:{slot:"activator",flat:"",to:e.link,exact:""},slot:"activator"},[t._v("\n            "+t._s(e.title)+"\n          ")]),t.user&&2===r?s("v-list",[s("v-list-tile",{attrs:{to:"/user/"+t.user._id,excat:""}},[s("v-list-tile-title",[t._v("Profile")])],1),s("v-list-tile",{attrs:{to:"/user/settings",excat:""}},[s("v-list-tile-title",[t._v("Settings")])],1),s("v-list-tile",{attrs:{excat:""},on:{click:t.logout}},[s("v-list-tile-title",[t._v("Logout")])],1)],1):t._e()],1)}))],1),s("v-content",{staticClass:"content"},[s("transition",{attrs:{name:"moveInUp"}},[s("router-view",{directives:[{name:"title",rawName:"v-title",value:t.title,expression:"title"}]})],1)],1),s("v-snackbar",{attrs:{top:"top"===t.snackbarProps.y,bottom:"bottom"===t.snackbarProps.y,left:"left"===t.snackbarProps.x,right:"right"===t.snackbarProps.x,"multi-line":"multi-line"===t.snackbarProps.mode,vertical:"vertical"===t.snackbarProps.mode,timeout:t.snackbarProps.timeout,color:t.snackbarProps.bgColor},model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v("\n      "+t._s(t.snackbarProps.text)+"\n      "),s("v-btn",{attrs:{flat:"",color:t.snackbarProps.btnColor},on:{click:function(e){t.snackbarDisplay=!1}}},[t._v("\n        Close\n      ")])],1),s("v-snackbar",{attrs:{top:"top"===t.jesteSnackProps.y,bottom:"bottom"===t.jesteSnackProps.y,left:"left"===t.snackbarProps.x,right:"right"===t.snackbarProps.x,"multi-line":"multi-line"===t.snackbarProps.mode,vertical:"vertical"===t.snackbarProps.mode,timeout:t.jesteSnackProps.timeout,color:"purple darken-1"},model:{value:t.jesteSnackDisplay,callback:function(e){t.jesteSnackDisplay=e},expression:"jesteSnackDisplay"}},[t._v("\n      "+t._s(t.jesteSnackProps.text)+"\n      "),s("v-btn",{attrs:{flat:"",color:t.jesteSnackProps.btnColor,to:t.jesteSnackProps.link},on:{click:function(e){t.jesteSnackDisplay=!1}}},[t._v("\n        Open\n      ")])],1)],1)],1)},n=[],a=(s("tUrg"),"show_snackbar_msg"),o="show_snackbar_jeste_it",l=new r["default"],c=s("oyJW"),u=s("L2JU"),d=s("yT7P"),m=(s("dRSK"),s("INYr"),s("vDqi")),f=s.n(m),p="/jeste",v="/chat";function h(t){var e=t.txt,s=void 0===e?"":e,r=t.coords,i=void 0===r?"":r,n=t.category,a=void 0===n?"":n,o=t.maxDistance,l=void 0===o?1e4:o,c=t.maxPrice,u=void 0===c?200:c,d="?q=".concat(s,"&coords=").concat(i,"&category=").concat(a,"&maxDistance=").concat(l,"&maxPrice=").concat(u);return f.a.get("".concat(p,"/").concat(d)).then(function(t){return t.data}).catch(function(t){return console.warn("Had a problem to load jestes:"),console.log(t),t})}function g(t){return f.a.get("".concat(p,"/").concat(t)).then(function(t){return t.data}).catch(function(e){return console.warn("Had a problem to load jeste ".concat(t,":")),console.log(e),e})}function j(t){return f.a.delete("".concat(p,"/").concat(t),t).then(function(t){return t.data}).catch(function(t){return t})}function b(t){return t._id?(delete t.req_user,f.a.put("".concat(p,"/").concat(t),t).then(function(t){return t.data}).catch(function(t){console.warn("Failed to update jeste"),console.log(t)})):f.a.post("".concat(p),t).then(function(t){return t.data})}function y(t){return f.a.get("".concat(v,"/").concat(t)).then(function(t){return t.data}).catch(function(e){return console.warn("Had a problem to load chat history of jeste ".concat(t,":")),console.log(e),e})}var _={query:h,getJesteByID:g,deleteJeste:j,saveJeste:b,getChatHistory:y},x="jeste",k="https://api.cloudinary.com/v1_1/".concat(x,"/image/upload");function w(t){var e=new FormData;return e.append("file",t),e.append("upload_preset","o93qhzis"),fetch(k,{method:"POST",body:e}).then(function(t){return t.json()}).then(function(t){return t}).catch(function(t){console.error(t)})}var C={uploadImg:w},S="/user";function $(){return f.a.get("".concat(S)).then(function(t){return t.data}).catch(function(t){return console.warn("Had a problem to load users:"),console.log(t),t})}function P(t){return f.a.get("".concat(S,"/").concat(t)).then(function(t){return t.data}).catch(function(e){return console.warn("Had a problem to load user ".concat(t,":")),console.log(e),e})}function O(t){return t._id?f.a.put("".concat(S,"/").concat(t),t).then(function(t){return t.data}).catch(function(t){console.warn("Failed to update user"),console.log(t)}):f.a.post("".concat(S),t).then(function(t){return t.data}).catch(function(t){console.warn("Failed to add user"),console.log(t)})}var D={query:$,getUserByID:P,saveUser:O},U="";function L(t){return f.a.put("".concat(U,"/login"),{user:t}).then(function(t){return t.data}).catch(function(t){return console.warn("Had a problem to log in:"),Promise.reject(t)})}function T(){return f.a.put("".concat(U,"/checklogin")).then(function(t){return t.data})}function I(){return f.a.put("".concat(U,"/logout")).then().catch(function(t){return console.warn("Had a problem to log out:"),console.log(t),t})}var E={login:L,logout:I,checkLogin:T};function J(){return new Promise(function(t,e){var s=null;if(!navigator.geolocation)return e(null);navigator.geolocation.getCurrentPosition(function(e){s={lat:e.coords.latitude,lng:e.coords.longitude},t(s)})})}var N,q,R,B,F,z,M={getUserLocation:J},A="user/mutations/userLoad",X="user/mutation/setLocation",V="user/mutation/setCurrChat",Y="user/userLogout",G="user/action/getUserLocation",H="user/actions/userLogin",W="user/actions/userCheckLogin",Q="user/actions/userGetById",Z="user/actions/uploadUserImg",K="user/actions/addUser",tt="user/getters/userConnected",et="user/getters/currChat",st={state:{user:null,currLocation:{lat:null,lng:null},currChat:null},mutations:(N={},Object(c["a"])(N,A,function(t,e){var s=e.user;s&&(t.user=s)}),Object(c["a"])(N,Y,function(t){t.user=null}),Object(c["a"])(N,X,function(t,e){var s=e.loc;t.currLocation=s}),Object(c["a"])(N,V,function(t,e){var s=e.data;t.currChat={jesteId:s.jesteId,userId:s.from._id}}),N),getters:(q={},Object(c["a"])(q,tt,function(t){return t.user}),Object(c["a"])(q,G,function(t){return t.currLocation}),Object(c["a"])(q,et,function(t){return t.currChat}),q),actions:(R={},Object(c["a"])(R,W,function(t){return E.checkLogin().then(function(e){if(!e._id)throw"Not Logged";return t.commit(A,{user:e}),e})}),Object(c["a"])(R,H,function(t,e){var s=e.user;return E.login(s).then(function(e){return t.commit({type:A,user:e}),e})}),Object(c["a"])(R,Y,function(t){return E.logout().then(t.commit(Y))}),Object(c["a"])(R,Q,function(t,e){var s=e.id;return D.getUserByID(s).then(function(t){return t[0]})}),Object(c["a"])(R,G,function(t){return console.log("Getting User Location"),M.getUserLocation().then(function(e){return t.commit({type:X,loc:e}),e})}),Object(c["a"])(R,Z,function(t,e){var s=e.image;return s?C.uploadImg(s).then(function(t){return t}):""}),Object(c["a"])(R,K,function(t,e){var s=e.user;return D.saveUser(s).then(function(t){return t})}),R)},rt="jeste/mutations/addJeste",it="jeste/mutations/updateJeste",nt="jeste/mutations/updateFilter",at="jeste/mutations/toggleLoad",ot="jeste/mutations/updateTxtFilter",lt="jeste/mutations/updateMaxPriceFilter",ct="jeste/mutations/updateCategoryFilter",ut="jeste/mutations/updateMaxDistanceFilter",dt="jeste/jestesLoad",mt="jeste/jesteSave",ft="jeste/jesteDelete",pt="jeste/actions/getJesteById",vt="jeste/actions/uploadJesteImg",ht="jeste/actions/getChatHistory",gt="jeste/getters/getJeste",jt="jeste/getters/jestesToDisplay",bt="jeste/getters/emptyJeste",yt="jeste/getters/getJesteCategories",_t="jeste/getters/loadingJeste",xt="jeste/getters/getFilterBy",kt={state:{jestes:[],categories:["All","Delivery","Work","Animal","Technology","Other"],filterBy:{coords:"",txt:"",category:"",maxDistance:5e4,maxPrice:200},isLoading:!1},mutations:(B={},Object(c["a"])(B,dt,function(t,e){var s=e.jestes;t.jestes=s}),Object(c["a"])(B,rt,function(t,e){var s=e.jeste;t.jestes.push(s)}),Object(c["a"])(B,it,function(t,e){var s=e.jeste,r=t.jestes.findIndex(function(t){return t._id===s._id});t.jestes.splice(r,1,s)}),Object(c["a"])(B,ft,function(t,e){var s=e.id;t.jestes=t.jestes.filter(function(t){return t._id!==s})}),Object(c["a"])(B,nt,function(t,e){var s=e.filter;for(var r in s)s[r]&&("coords"!==r?t.filterBy[r]=s[r]:t.filterBy.coords="".concat(s.coords.lat,",").concat(s.coords.lng))}),Object(c["a"])(B,at,function(t,e){var s=e.isLoad;t.isLoading=s}),Object(c["a"])(B,ot,function(t,e){var s=e.txt;t.filterBy.txt=s}),Object(c["a"])(B,ct,function(t,e){var s=e.val;t.filterBy.category=s}),Object(c["a"])(B,ct,function(t,e){var s=e.val;t.filterBy.category=s}),Object(c["a"])(B,lt,function(t,e){var s=e.val;t.filterBy.maxPrice=s}),Object(c["a"])(B,ut,function(t,e){var s=e.val;t.filterBy.maxDistance=s}),B),getters:(F={},Object(c["a"])(F,xt,function(t){return t.filterBy}),Object(c["a"])(F,yt,function(t){return t.categories}),Object(c["a"])(F,jt,function(t){return t.jestes}),Object(c["a"])(F,gt,function(t){return function(e){return t.jestes.find(function(t){return t._id===e})}}),Object(c["a"])(F,bt,function(){return{from_loc:"",destination_loc:{type:"Point",coordinates:[null,null]},ended_at:null,req_user_id:null,res_user_id:null,created_at:null,title:"",description:"",price:50,category:"",img:{},address_components:null,formatted_address:"",time_frame:{from:"",until:""},keywords:[],status:0}}),Object(c["a"])(F,_t,function(t){return t.isLoading}),F),actions:(z={},Object(c["a"])(z,dt,function(t){t.commit({type:at,isLoad:!0});var e=Object(d["a"])({},t.state.filterBy);return _.query(e).then(function(e){return t.commit({type:dt,jestes:e}),t.commit({type:at,isLoad:!1}),e})}),Object(c["a"])(z,pt,function(t,e){var s=e.id;return t.commit({type:at,isLoad:!0}),_.getJesteByID(s).then(function(e){return t.commit({type:at,isLoad:!1}),e})}),Object(c["a"])(z,vt,function(t,e){var s=e.image;return s?C.uploadImg(s).then(function(t){return t}):""}),Object(c["a"])(z,mt,function(t,e){var s=e.jesteToSave,r=!!s._id;return r||(s.req_user_id=t.getters[tt]._id),_.saveJeste(s).then(function(e){return r?t.commit({type:it,jeste:e}):t.commit({type:rt,jeste:e}),e})}),Object(c["a"])(z,ft,function(t,e){var s=e.id;return _.deleteJeste(s).then(function(){return t.commit({type:ft,id:s})}).catch(function(t){return t})}),Object(c["a"])(z,ht,function(t,e){var s=e.jesteId;return _.getChatHistory(s).then(function(t){return t}).catch(function(t){return t})}),z)};r["default"].use(u["a"]);var wt="store/mutations/updateTtile",Ct="store/getters/getTitle",St=new u["a"].Store({modules:{JesteModule:kt,UserModule:st},state:{title:"Jeste"},mutations:Object(c["a"])({},wt,function(t,e){var s=e.title;t.title=s}),actions:{},getters:Object(c["a"])({},Ct,function(t){return t.title})}),$t={name:"app",created:function(){var t=this;console.log("--- Jeste App ---"),this.$store.getters.USER_CONNECTED||this.loadUser(),this.$store.commit({type:at,isLoad:!0}),this.$store.dispatch(G).then(function(e){t.$store.commit({type:nt,filter:{coords:e}}),t.loadJestes()})},sockets:{jesteResponded:function(t){l.$emit(o,{text:"Someone just responded your jeste!",link:"/jeste/".concat(t._id)})}},mounted:function(){var t=this;l.$on(a,function(e){return t.toggleSnackbar(e)}),l.$on(o,function(e){return t.togglejesteSnack(e)})},data:function(){return{drawer:null,menuItems:[{title:"Home",icon:"home",link:"/"},{title:"Jeste",icon:"assistant",link:"/jeste"},{title:"Signup | Login",icon:"swap_horizontal_circle",link:"/login"},{title:"About",icon:"info",link:"/about"}],snackbarDisplay:!1,snackbarProps:{y:"top",x:null,mode:"multi-line",timeout:3e3,text:""},jesteSnackDisplay:!1,jesteSnackProps:{y:"top",x:null,mode:"multi-line",timeout:3e3,text:""}}},computed:{user:function(){return this.$store.getters[tt]},location:function(){return this.$store.getters[G]},title:function(){return this.$store.getters[Ct]}},methods:{loadUser:function(){this.$store.dispatch(W).then(function(t){console.log("User Logged in")}).catch(function(t){return console.log(t)})},loadJestes:function(){this.$store.dispatch({type:dt})},pushToLink:function(t){this.$router.push(t)},toggleSnackbar:function(t){this.snackbarProps.text=t.text,this.snackbarProps.bgColor=t.bgColor?t.bgColor:this.snackbarProps.bgColor,this.snackbarDisplay=!0},togglejesteSnack:function(t){this.jesteSnackProps.text=t.text,this.jesteSnackProps.bgColor=t.bgColor?t.bgColor:this.jesteSnackProps.bgColor,this.jesteSnackProps.link=t.link,this.jesteSnackDisplay=!0},logout:function(){var t=this,e=this.$store.getters[tt].details.firstName;this.$store.dispatch(Y).then(function(s){l.$emit(a,{text:"Bey ".concat(e),bgColor:"#000"}),console.log("Logged out successfuly"),t.$router.push("/")})}},watch:{user:function(){this.user?(this.$socket.emit("userLogged",{userId:this.user._id}),this.menuItems[2]={title:this.user.details.firstName+" "+this.user.details.lastName,link:"#",icon:"account_circle"}):this.menuItems[2]={title:"Signup \\ Login",link:"/login",icon:"swap_horizontal_circle"}},snackbarDisplay:function(){this.snackbarDisplay||(this.snackbarProps.bgColor="black",this.snackbarProps.btnColor="white")}}},Pt=$t,Ot=(s("XAuw"),s("KHd+")),Dt=Object(Ot["a"])(Pt,i,n,!1,null,null,null),Ut=Dt.exports,Lt=s("jE9Z"),Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"home"},[s("section",{staticClass:"back-img"},[s("v-layout",{staticClass:"main-content",attrs:{column:"",wrap:"","justify-center":"","align-center":""}},[s("div",{staticClass:"header"},[t._v("jeste")]),s("div",{staticClass:"sub-header"},[t._v("help others | get help")]),s("v-spacer"),s("div",{staticClass:"about"},[t._v("JESTE is a new way to help your communiuty in small works or jobs, and in return get help when you need it")]),s("v-spacer"),s("v-layout",{staticClass:"stats",attrs:{row:"",wrap:"","justify-center":""}},[s("div",{staticClass:"stat"},[s("div",[t._v("64")]),s("div",{staticClass:"desc"},[t._v("total jestes")])]),s("div",{staticClass:"stat"},[s("div",[t._v("32")]),s("div",{staticClass:"desc"},[t._v("made jestes")])]),s("div",{staticClass:"stat"},[s("div",[t._v("16")]),s("div",{staticClass:"desc"},[t._v("active jestes")])])]),s("v-layout",{attrs:{row:"",wrap:"","justify-center":"","mt-2":""}},[s("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(e){t.$vuetify.goTo(t.$refs.listRecent,{easeing:"easeInQuad",offset:-100,duration:600})}}},[t._v("do a jeste")]),s("v-btn",{attrs:{large:"",color:"primary",to:"/jeste/edit"}},[t._v("ask for jeste")])],1),s("v-spacer")],1)],1),t.isLoading?s("div",{staticClass:"load-wrapper"},[s("LoadingCmp")],1):t._e(),s("h1",[t._v("Recent Jestes")]),s("JesteList",{ref:"listRecent",attrs:{jestes:t.jestesToDisplay}}),s("h1",[t._v("Nearby Jestes")]),s("JesteList",{ref:"listNearby",attrs:{jestes:t.jestesToDisplay}})],1)},It=[],Et=(s("8al2"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}})}),Jt=[],Nt={},qt=Nt,Rt=(s("5CIG"),Object(Ot["a"])(qt,Et,Jt,!1,null,null,null)),Bt=Rt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[t.jestes?s("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},t._l(t.jestes,function(t){return s("JestePreview",{key:t._id,attrs:{to:"/jeste/"+t._id,jeste:t}})})):t._e()],1)},zt=[],Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"jeste-card-wrapper",attrs:{xs12:"",sm4:"",md3:""}},[s("v-card",{staticClass:"jeste-card",attrs:{tile:"",hover:"",to:"/jeste/"+t.jeste._id,height:"400px"}},[s("v-card-media",{attrs:{src:t.imgUrl,height:"200px"}}),s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("h3",{staticClass:"headline mb-0"},[t._v(t._s(t.jeste.title))]),s("span",{staticClass:"grey--text"},[t._v(t._s(t.distance))]),s("div",{ref:"desc",staticClass:"block-with-text"},[t._v(t._s(t.jeste.description))])])]),s("v-card-actions",{staticClass:"actions"},[s("v-spacer"),s("v-btn",{attrs:{flat:"",color:"primary",to:"/jeste/"+t.jeste._id}},[t._v("details")])],1)],1)],1)},At=[],Xt=s("wd/R"),Vt=s.n(Xt),Yt={name:"jestePreview",props:{jeste:Object},computed:{reqUser:function(){return this.jeste.req_user.details},distance:function(){var t=(this.jeste.destination_loc.calculated/1e3).toFixed(2);return"".concat(t," km away from you")},imgUrl:function(){return this.jeste.img&&this.jeste.img.url?this.jeste.img.url:""}},filters:{dateFormat:function(t){return Vt()(+t).fromNow()+", ("+Vt()(+t).format("HH:mm:ss, DD/MM/YYYY")+")"}}},Gt=Yt,Ht=(s("dhuX"),Object(Ot["a"])(Gt,Mt,At,!1,null,"e670d670",null)),Wt=Ht.exports,Qt={name:"jesteList",components:{JestePreview:Wt},props:["jestes"]},Zt=Qt,Kt=(s("p9Zd"),Object(Ot["a"])(Zt,Ft,zt,!1,null,"7fa6559e",null)),te=Kt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md7:""}},[s("v-text-field",{attrs:{color:"secondary",flat:"","hide-details":"",clearable:"","prepend-inner-icon":"search",label:"Free Text"},on:{"click:prepend-inner":t.filterJestes},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.filterJestes(e):null}},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",md4:""}},[s("v-select",{attrs:{color:"secondary",items:t.categories,label:"Categories"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),s("v-flex",{attrs:{xs8:"",sm4:""}},[s("v-slider",{attrs:{color:"secondary",label:"Price",max:200},model:{value:t.maxPrice,callback:function(e){t.maxPrice=e},expression:"maxPrice"}})],1),s("v-spacer",{staticClass:"hidden-sm-and-up"}),s("v-flex",{staticClass:"text-slider",attrs:{xs2:"",sm1:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{color:"secondary",type:"number"},model:{value:t.maxPrice,callback:function(e){t.maxPrice=e},expression:"maxPrice"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs8:"",sm4:""}},[s("v-slider",{attrs:{color:"secondary",label:"Distance (km)",max:100},model:{value:t.maxDistance,callback:function(e){t.maxDistance=e},expression:"maxDistance"}})],1),s("v-spacer",{staticClass:"hidden-sm-and-up"}),s("v-flex",{staticClass:"text-slider",attrs:{xs2:"",sm1:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{color:"secondary",type:"number"},model:{value:t.maxDistance,callback:function(e){t.maxDistance=e},expression:"maxDistance"}})],1),s("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[s("v-btn",{attrs:{large:""},on:{click:t.filterJestes}},[t._v("Search")])],1)],1)],1)},se=[],re={name:"jesteFIlter",data:function(){return{categories:this.$store.getters[yt]}},methods:{filterJestes:function(){this.$store.dispatch({type:dt})}},computed:{filter:function(){return this.$store.getters[xt]},txt:{get:function(){return this.filter.txt},set:function(t){this.$store.commit({type:ot,txt:t})}},category:{get:function(){return this.filter.category},set:function(t){this.$store.commit({type:ct,val:t})}},maxPrice:{get:function(){return this.filter.maxPrice},set:function(t){this.$store.commit({type:lt,val:t})}},maxDistance:{get:function(){return this.filter.maxDistance/1e3},set:function(t){t*=1e3,this.$store.commit({type:ut,val:t})}}}},ie=re,ne=(s("AZTE"),Object(Ot["a"])(ie,ee,se,!1,null,"edac3c56",null)),ae=ne.exports,oe={name:"home",components:{JesteList:te,JesteFilter:ae,LoadingCmp:Bt},created:function(){this.$store.commit({type:wt,title:"Jeste - Home"})},computed:{jestesToDisplay:function(){return this.$store.getters[jt]},isLoading:function(){return this.$store.getters[_t]},target:function(){}}},le=oe,ce=(s("wKeq"),Object(Ot["a"])(le,Tt,It,!1,null,"23b84360",null)),ue=ce.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"jeste-app"},[s("v-jumbotron",{staticClass:"jumbotron",attrs:{height:"375px",dark:""}},[s("v-container",{attrs:{"fill-height":""}},[s("v-layout",{attrs:{"align-center":"",wrap:""}},[s("div",{staticClass:"filter-header"},[t._v("do jestes for others.")]),s("JesteFilter")],1)],1)],1),t.isLoading?s("div",{staticClass:"load-wrapper"},[s("LoadingCmp")],1):s("JesteList",{attrs:{jestes:t.jestesToDisplay}}),s("v-btn",{attrs:{fixed:"",fab:"",bottom:"",right:"",ripple:"",color:"secondary",to:"/jeste/edit"}},[s("v-icon",[t._v("add")])],1)],1)},me=[],fe={name:"jesteApp",components:{LoadingCmp:Bt,JesteList:te,JesteFilter:ae},created:function(){this.$store.commit({type:wt,title:"Jeste - Search"})},mounted:function(){},computed:{isLoading:function(){return this.$store.getters[_t]},jestesToDisplay:function(){return this.$store.getters[jt]}}},pe=fe,ve=(s("DNju"),Object(Ot["a"])(pe,de,me,!1,null,"52f971b6",null)),he=ve.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[s("v-flex",{staticClass:"container-wrapper"},[s("v-card",{attrs:{grow:""}},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v(t._s(t.isEdit?"Edit":"Add")+" Jeste")])],1),s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-card-text",[s("v-text-field",{attrs:{box:"",label:"Title",required:""},model:{value:t.jesteToSave.title,callback:function(e){t.$set(t.jesteToSave,"title",e)},expression:"jesteToSave.title"}}),s("v-textarea",{attrs:{box:"",label:"Description",hint:"Few words about the jeste",required:""},model:{value:t.jesteToSave.description,callback:function(e){t.$set(t.jesteToSave,"description",e)},expression:"jesteToSave.description"}}),s("ComboBox",{model:{value:t.jesteToSave.keywords,callback:function(e){t.$set(t.jesteToSave,"keywords",e)},expression:"jesteToSave.keywords"}}),s("v-select",{attrs:{box:"",items:t.categories,label:"Categories",hint:"Type of the Jeste"},model:{value:t.jesteToSave.category,callback:function(e){t.$set(t.jesteToSave,"category",e)},expression:"jesteToSave.category"}}),s("ImageUpload",{attrs:{imgUrl:t.imageUrl},model:{value:t.imageFile,callback:function(e){t.imageFile=e},expression:"imageFile"}}),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs9:""}},[s("v-slider",{attrs:{max:200,"thumb-label":"",label:"Price"},model:{value:t.jesteToSave.price,callback:function(e){t.$set(t.jesteToSave,"price",e)},expression:"jesteToSave.price"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs2:""}},[s("v-text-field",{staticClass:"mt-0",attrs:{type:"number"},model:{value:t.jesteToSave.price,callback:function(e){t.$set(t.jesteToSave,"price",e)},expression:"jesteToSave.price"}})],1)],1),s("v-text-field",{ref:"autocomplete",attrs:{box:"",label:"Street","append-icon":"search",rules:t.addressRules,required:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}},model:{value:t.jesteToSave.formatted_address,callback:function(e){t.$set(t.jesteToSave,"formatted_address",e)},expression:"jesteToSave.formatted_address"}}),s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t.jesteToSave?s("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:t.position,zoom:15,"map-type-id":"terrain"}},[s("GmapMarker",{attrs:{position:t.position,clickable:!1,draggable:!0},on:{click:function(e){t.center=t.position}}})],1):t._e()],1)],1),s("v-card-actions",[s("v-btn",{attrs:{color:"secondary"},on:{click:function(e){t.$router.go(-1)}}},[t._v("cancel")]),s("v-btn",{attrs:{color:"secondary"},on:{click:t.clear}},[t._v("clear")]),s("v-spacer"),s("v-btn",{attrs:{disabled:!t.valid,color:"primary"},on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[t._v("submit")])],1)],1)],1)],1)],1),s("PermDialog",{attrs:{displayDialog:t.isDisallowed}})],1)},je=[],be=s("iv4g"),ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:t.displayDialog,callback:function(e){t.displayDialog=e},expression:"displayDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("No Permission!")]),s("v-card-text",[t._v("\n                Oh Oops... "),s("br"),t._v("\n                It's Seems like you don't have permission to this page. "),s("br"),t.currUser?t._e():s("span",[t._v("Try to login or signup")])]),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{color:"info",flat:""},on:{click:t.clicked}},[t._v("\n                    back\n                ")]),s("v-spacer"),t.currUser?t._e():s("v-btn",{attrs:{color:"success",flat:"",if:"",to:"/login"}},[t._v("\n                    signup | login\n                ")])],1)],1)],1)},_e=[],xe={props:{displayDialog:Boolean},computed:{currUser:function(){return this.$store.getters[tt]}},methods:{clicked:function(){this.$router.go(-1)}}},ke=xe,we=(s("GTQB"),Object(Ot["a"])(ke,ye,_e,!1,null,null,null)),Ce=we.exports,Se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-combobox",{attrs:{box:"",filter:t.filter,"hide-no-data":!t.search,items:t.items,"search-input":t.search,"hide-selected":"",label:"Enter Keywords",multiple:"","small-chips":"",solo:""},on:{"update:searchInput":function(e){t.search=e}},scopedSlots:t._u([{key:"selection",fn:function(e){var r=e.item,i=e.parent,n=e.selected;return r===Object(r)?[s("v-chip",{attrs:{color:r.color+" lighten-1",selected:n,label:"",small:""}},[s("span",{staticClass:"pr-2"},[t._v("\n\t\t\t\t"+t._s(r.text)+"\n\t\t\t")]),s("v-icon",{attrs:{small:""},on:{click:function(t){i.selectItem(r)}}},[t._v("close")])],1)]:void 0}},{key:"item",fn:function(e){var r=e.index,i=e.item;e.parent;return[s("v-list-tile-content",[t.editing===i?s("v-text-field",{attrs:{autofocus:"",flat:"","background-color":"transparent","hide-details":"",solo:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.edit(r,i)}},model:{value:t.editing.text,callback:function(e){t.$set(t.editing,"text",e)},expression:"editing.text"}}):s("v-chip",{attrs:{color:i.color+" lighten-3",dark:"",label:"",small:""}},[t._v("\n\t\t\t\t"+t._s(i.text)+"\n\t\t\t")])],1),s("v-spacer"),s("v-list-tile-action",{on:{click:function(t){t.stopPropagation()}}},[s("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.edit(r,i)}}},[s("v-icon",[t._v(t._s(t.editing!==i?"edit":"check"))])],1)],1)]}}]),model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[s("template",{slot:"no-data"},[s("v-list-tile",[s("span",{staticClass:"subheading"},[t._v("Create")]),s("v-chip",{attrs:{color:t.colors[t.nonce-1]+" lighten-3",label:"",small:""}},[t._v("\n\t\t\t\t"+t._s(t.search)+"\n\t\t\t")])],1)],1)],2)},$e=[],Pe=(s("a1Th"),{props:["value"],data:function(){return{activator:null,attach:null,colors:["green","purple","indigo","cyan","teal","orange","blue","yellow","red"],editing:null,index:-1,items:[{header:"Select a keyword or create one"},{text:"Foo",color:"blue"},{text:"Bar",color:"red"}],nonce:1,menu:!1,model:[],x:0,search:null,y:0}},computed:{isEdit:function(){return!!this.jesteToSave&&!!this.jesteToSave.id}},methods:{edit:function(t,e){this.editing?(this.editing=null,this.index=-1):(this.editing=e,this.index=t)},filter:function(t,e,s){if(t.header)return!1;var r=function(t){return null!=t?t:""},i=r(s),n=r(e);return i.toString().toLowerCase().indexOf(n.toString().toLowerCase())>-1}},watch:{nonce:function(t){t>this.colors.length&&(this.nonce=1)},value:function(t){var e=this;!t||this.model.length>0||(this.model=t.map(function(t){return{text:t,color:e.colors[e.nonce-1]}}),this.nonce++)},model:function(t,e){var s=this;if(t.length!==e.length){this.model=t.map(function(t){return"string"===typeof t&&(t={text:t,color:s.colors[s.nonce-1]},s.nonce++,s.items.push(t)),t});var r=this.model.map(function(t){return t.text});this.$emit("input",r)}}}}),Oe=Pe,De=(s("DXu0"),Object(Ot["a"])(Oe,Se,$e,!1,null,null,null)),Ue=De.exports,Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",{staticClass:"text-center",attrs:{xs12:""}},[t.imageUrl?s("img",{attrs:{src:t.imageUrl,height:"150"}}):t._e(),s("v-text-field",{attrs:{box:"",label:"Select Image","append-icon":"attach_file"},on:{click:t.pickFile,focus:t.pickFile,"click:append":t.pickFile},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),s("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1)},Te=[],Ie=(s("f3/d"),{name:"imageUpload",props:{imgUrl:String},data:function(){return{imageName:"",imageUrl:this.imgUrl?this.imgUrl:"",imageFile:""}},watch:{imgUrl:function(){this.imageUrl=this.imgUrl?this.imgUrl:""}},methods:{pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,s=t.target.files;if(void 0!==s[0]){if(this.imageName=s[0].name,this.imageName.lastIndexOf(".")<=0)return;var r=new FileReader;r.readAsDataURL(s[0]),r.addEventListener("load",function(){e.imageUrl=r.result,e.imageFile=s[0],e.$emit("input",e.imageFile)})}else this.imageName="",this.imageFile="",this.imageUrl=""}}}),Ee=Ie,Je=(s("N8Wf"),Object(Ot["a"])(Ee,Le,Te,!1,null,null,null)),Ne=Je.exports,qe={name:"jesteEdit",components:{PermDialog:Ce,ComboBox:Ue,ImageUpload:Ne},created:function(){var t=this;this.currUser?this.$route.params.id&&this.getJeste(this.$route.params.id).then(function(e){t.currUser._id!==t.jesteToSave.req_user_id&&(t.isDisallowed=!0)}):this.isDisallowed=!0,this.$store.commit({type:wt,title:"Jeste - Edit"})},mounted:function(){var t=this;this.$gmapApiPromiseLazy().then(function(e){t.google=e,t.initGoogle()})},data:function(){var t=this;return{currUser:this.$store.getters[tt],isDisallowed:!1,valid:!0,jesteToSave:JSON.parse(JSON.stringify(this.$store.getters[bt])),imageFile:null,imageUrl:null,categories:Object(be["a"])(this.$store.getters[yt]).splice(1),google:null,autocomplete:null,currPlace:null,addressRules:[function(t){return!!t||"Address is required"},function(e){return!!e&&t.currPlace&&t.currPlace.formatted_address===t.$refs.autocomplete.value||"Please type a valid address"}],id:"maps"}},computed:{isEdit:function(){return!!this.jesteToSave&&!!this.jesteToSave._id},position:function(){var t={lat:0,lng:0};return!this.isEdit&&this.$store.getters[G].lat&&(t=this.$store.getters[G]),this.jesteToSave.destination_loc.coordinates[0]&&(t={lat:+this.jesteToSave.destination_loc.coordinates[0],lng:+this.jesteToSave.destination_loc.coordinates[1]}),t},show:function(){return!!this.jesteToSave}},methods:{getJeste:function(t){var e=this;return this.$store.dispatch({type:pt,id:t}).then(function(t){e.jesteToSave=JSON.parse(JSON.stringify(t)),e.imageUrl=e.jesteToSave.img.url,e.currPlace={formatted_address:t.formatted_address}})},submit:function(){var t=this;this.$refs.form.validate()&&this.$store.dispatch({type:vt,image:this.imageFile}).then(function(e){e&&(t.jesteToSave.img=e),t.$store.dispatch({type:mt,jesteToSave:t.jesteToSave}).then(function(e){l.$emit(a,{text:"Jeste Saved Successfuly",bgColor:"success"}),t.$router.push("/jeste")}).catch(function(t){l.$emit(a,{text:"Error, Couldn't Save Jeste",bgColor:"error"})})})},clear:function(){this.$refs.form.reset()},initGoogle:function(){var t=this,e=this.$refs.autocomplete.$el.children[0].children[0].children[0].children[1];if(this.autocomplete=new this.google.maps.places.Autocomplete(e,{types:["geocode"]}),navigator.geolocation){var s=this;navigator.geolocation.getCurrentPosition(function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude},r=new window.google.maps.Circle({center:e,radius:t.coords.accuracy});s.autocomplete.setBounds(r.getBounds())})}this.autocomplete.addListener("place_changed",function(){t.currPlace=t.autocomplete.getPlace(),t.jesteToSave.address_components=t.currPlace.address_components,t.jesteToSave.formatted_address=t.currPlace.formatted_address,t.jesteToSave.destination_loc.coordinates.splice(0,1,+t.currPlace.geometry.location.lat()),t.jesteToSave.destination_loc.coordinates.splice(1,1,+t.currPlace.geometry.location.lng())})}}},Re=qe,Be=(s("cehh"),Object(Ot["a"])(Re,ge,je,!1,null,"17d1fd1e",null)),Fe=Be.exports,ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[t.jeste?s("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[t.showChat?s("ChatCmp",{staticClass:"chat-cmp",attrs:{"jeste-id":t.jeste._id,"req-user-id":t.jeste.req_user_id,"res-user-id":t.jeste.res_user_id,"user-id":t.user._id}}):t._e(),s("v-flex",{attrs:{xs12:"",sm6:""}},[t.isLoading?s("div",{staticClass:"load-wrapper"},[s("LoadingCmp")],1):s("v-card",{staticClass:"jeste-details-card",attrs:{height:"100%",hover:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("v-layout",{attrs:{row:"","justify-space-between":""}},[s("v-flex",[s("div",{staticClass:"headline mb-2"},[t._v(t._s(t.jeste.title))]),s("div",{staticClass:"grey--text mb-2"},[t._v(t._s(t.jeste.formatted_address))]),s("div",{staticClass:"desc"},[t._v(t._s(t.jeste.description))])]),t.reqUser?s("v-flex",{attrs:{xs2:"","ml-4":""}},[s("router-link",{attrs:{to:"/user/"+t.reqUser._id}},[s("v-avatar",{attrs:{size:"50px",color:"grey lighten-4"}},[s("img",{attrs:{src:t.reqUser.img.url,alt:"avatar"}})]),s("div",{staticClass:"grey--text"},[t._v(t._s(t.reqUser.details.firstName)+" "+t._s(t.reqUser.details.lastName))])],1)],1):t._e()],1)],1),s("v-card-actions",[t.canEdit?s("v-btn",{attrs:{flat:"",color:"green",to:"/jeste/"+t.jeste._id+"/edit"}},[t._v("Edit")]):t._e(),t.canEdit?s("v-btn",{attrs:{flat:"",color:"error"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Delete")]):t._e(),s("v-spacer"),t.canEdit||!t.user||t.jeste.res_user_id?t._e():s("v-btn",{attrs:{flat:"",color:"blue"},on:{click:function(e){return e.preventDefault(),t.respond(e)}}},[t._v("Jeste It!")])],1)],1)],1),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-card",{attrs:{hover:"",height:"100%"}},[t.isLoading?s("div",{staticClass:"load-wrapper"},[s("LoadingCmp")],1):t.jeste.img?s("v-card-media",{attrs:{src:t.jeste.img.url,height:"400px"}}):t._e()],1)],1),s("v-flex",{attrs:{xs12:""}},[s("v-card",{attrs:{hover:""}},[s("v-card-text",[t.jeste.destination_loc?s("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{center:t.position,zoom:15,"map-type-id":"terrain"}},[s("GmapMarker",{attrs:{position:t.position,clickable:!1,draggable:!0},on:{click:function(e){t.center=t.position}}})],1):t._e()],1)],1)],1),s("v-dialog",{staticClass:"warning",attrs:{"max-width":"400"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Are you sure?")]),s("v-card-text",[t._v("\n\t\t\t\t\tOnce deleted, there's no way back...\n\t\t\t\t")]),s("v-divider"),s("v-card-actions",[s("v-btn",{attrs:{color:"green darken-1",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n\t\t\t\t\t\tCancel\n\t\t\t\t\t")]),s("v-spacer"),s("v-btn",{attrs:{color:"error",flat:""},on:{click:function(e){t.deleteJeste()}}},[t._v("\n\t\t\t\t\t\tDelete\n\t\t\t\t\t")])],1)],1)],1)],1):t._e()],1)},Me=[],Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("beautiful-chat",{ref:"chat",attrs:{colors:t.color,agentProfile:t.agentProfile,showTypingIndicator:t.isTyping,onMessageWasSent:t.onMessageWasSent,messageList:t.messageList,newMessagesCount:t.newMessagesCount,isOpen:t.isChatOpen,close:t.closeChat,open:t.openChat,showEmoji:!0,showFile:!0}})],1)},Xe=[],Ve={props:["jesteId","userId","reqUserId","resUserId"],sockets:{receivedMsg:function(t){var e=t.msg;console.log("this message was recived",e),e&&this.handleReceivedMsg(e)},isTyping:function(){var t=this;this.typingTimout&&clearTimeout(this.typingTimeout),this.isTyping=!0,setTimeout(function(e){t.isTyping=!1},1500)}},data:function(){return{color:{header:{bg:"#4e8cff",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#4e8cff",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"}},agentProfile:{teamName:"Vue Beautiful Chat",imageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png"},messageList:[],newMessagesCount:0,isChatOpen:!1,isTyping:!1,typingTimeout:null}},created:function(){var t=this;console.log("requserid",this.reqUserId),console.log("Res User",this.resUserId),this.userId===this.reqUserId?this.getUser(this.resUserId):this.getUser(this.reqUserId),this.$store.dispatch({type:ht,jesteId:this.jesteId}).then(function(e){console.log("chat res:",e);var s=e.reduce(function(e,s){return s.msg.authorId===t.userId?s.msg.author="me":s.msg.author="them",e.push(s.msg),e},[]);t.messageList=s})},mounted:function(){var t=document.querySelector(".sc-user-input--text"),e=this;t.addEventListener("input",function(){e.handleTyping()})},methods:{handleReceivedMsg:function(t){t.author="them",(t.data.file||t.data.emoji||t.data.text.length>0)&&(this.newMessagesCount=this.isChatOpen?this.newMessagesCount:this.newMessagesCount+1,this.isTyping=!1,this.messageList.push(t),console.log("send"))},onMessageWasSent:function(t){t.timestamp=Date.now(),this.messageList.push(t),t.authorId=this.userId,this.$socket.emit("sendMsg",{msg:t,jesteId:this.jesteId}),console.log("msg",t)},openChat:function(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat:function(){this.isChatOpen=!1},handleTyping:function(){this.$socket.emit("isTyping",{jesteId:this.jesteId})},getUser:function(t){var e=this;console.log("method id",t),this.$store.dispatch({type:Q,id:t}).then(function(t){e.agentProfile.teamName=t.details.firstName+" "+t.details.lastName,e.agentProfile.imageUrl=t.img.url})}}},Ye=Ve,Ge=(s("W4mX"),Object(Ot["a"])(Ye,Ae,Xe,!1,null,null,null)),He=Ge.exports,We={name:"jesteDetails",components:{ChatCmp:He,LoadingCmp:Bt},created:function(){this.getJeste().then(this.getUser),this.$store.commit({type:wt,title:"Jeste - Details"})},data:function(){return{jeste:{},dialog:!1,reqUser:null}},computed:{isLoading:function(){return this.$store.getters[_t]},position:function(){if(this.jeste.destination_loc)return{lat:+this.jeste.destination_loc.coordinates[0],lng:+this.jeste.destination_loc.coordinates[1]}},canEdit:function(){return!this.jeste.ended_at&&this.user&&this.user._id===this.jeste.req_user_id},user:function(){return this.$store.getters[tt]},showChat:function(){return!!this.user&&!!this.jeste.res_user_id&&(this.user._id===this.jeste.res_user_id||this.user._id===this.jeste.req_user_id)}},methods:{getJeste:function(){var t=this;return this.$store.dispatch({type:pt,id:this.$route.params.id}).then(function(e){return t.jeste=e})},deleteJeste:function(){var t=this;this.dialog=!1,this.$store.dispatch({type:ft,id:this.jeste._id}).then(function(e){l.$emit(a,{text:"Jeste Deleted Successfully",bgColor:"success"}),t.$router.push("/")})},respond:function(){console.log("User:",this.user),this.jeste.res_user_id=this.user._id,this.$socket.emit("jesteResponded",{jeste:this.jeste})},getUser:function(){var t=this;this.$store.dispatch({type:Q,id:this.jeste.req_user_id}).then(function(e){return t.reqUser=e})}}},Qe=We,Ze=(s("wlWD"),Object(Ot["a"])(Qe,ze,Me,!1,null,"05bb8123",null)),Ke=Ze.exports,ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"users"},[t._v("\n  users\n")])},es=[],ss={name:"users"},rs=ss,is=(s("Z8Bo"),Object(Ot["a"])(rs,ts,es,!1,null,"4dbf4563",null)),ns=is.exports,as=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-edit"},[t._v("\n  user-edit\n")])},os=[],ls={name:"userEdit"},cs=ls,us=(s("2ZHj"),Object(Ot["a"])(cs,as,os,!1,null,"ec01418a",null)),ds=us.exports,ms=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[t.user?s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-card",[s("v-toolbar",{staticClass:"text--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v(t._s(t.user.details.firstName)+"'s Details")])],1),s("v-card-title",{attrs:{"primary-title":""}},[s("v-avatar",[s("img",{attrs:{src:t.imgUrl,alt:"avatar"}})]),s("div",{staticClass:"v-title"},[s("div",{staticClass:"headline"},[t._v(t._s(t.user.details.firstName)+" "+t._s(t.user.details.lastName))]),s("span",{staticClass:"grey--text"},[t._v(t._s(t.user.formatted_address))])])],1),s("v-card-text",[s("v-list",{attrs:{"two-line":""}},[s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.user.details.age))]),s("v-list-tile-sub-title",[t._v("Age")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.user.mobile))]),s("v-list-tile-sub-title",[t._v("Mobile")])],1),s("v-list-tile-content",[s("v-list-tile-title",[t._v(t._s(t.user.email))]),s("v-list-tile-sub-title",[t._v("e-mail")])],1)],1),s("div",{staticClass:"sub-headline"},[t._v("Some words about you")]),t._v("\n\t\t\t\t\tI'm a thing. But, like most politicians, he promised more than he could deliver. You won't have time for sleeping, soldier, not with all the bed making you'll be doing. Then we'll go with that data file! Hey, you add a one and two zeros to that or we walk! You're going to do his laundry? I've got to find a way to escape.\n\t\t\t\t")],1)],1)],1),s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-tabs",{staticClass:"elevation-1",attrs:{grow:"",color:"primary","slider-color":"secondary"}},[t._l(t.tabs,function(e,r){return s("v-tab",{key:r,staticClass:"text--text"},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")])}),t._l(t.tabs,function(e,r){return s("v-tab-item",{key:r},[e.jestesList.length?s("v-card",{attrs:{flat:""}},[s("v-expansion-panel",t._l(e.jestesList,function(e,r){return s("v-expansion-panel-content",{key:r},[s("div",{staticClass:"jeste-title",attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.title))]),s("v-card",[s("v-card-title",[s("div",[t._v("\n\t\t\t\t\t\t\t\t\t\t\tAddress:\n\t\t\t\t\t\t\t\t\t\t\t"),s("div",[t._v(t._s(e.formatted_address))])])]),s("v-card-text",[t._v("\n\t\t\t\t\t\t\t\t\t\tDescription: "+t._s(e.description)+"\n\t\t\t\t\t\t\t\t\t\t"),s("br"),t._v(" Keywords:\n\t\t\t\t\t\t\t\t\t\t"),t._l(e.keywords,function(e){return s("v-chip",{key:e,attrs:{label:"",outline:"",color:"secondary"}},[t._v(t._s(e))])})],2),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{outline:"",color:"primary",to:"/jeste/"+e._id}},[t._v("more details")])],1)],1)],1)}))],1):s("v-card",{attrs:{flat:""}},[s("v-card-text",[t._v("\n\t\t\t\t\t\t\tNo Relevant Jestes\n\t\t\t\t\t\t")])],1)],1)})],2)],1)],1):t._e()],1)},fs=[],ps={name:"userDetails",created:function(){this.getUser(),this.$store.commit({type:wt,title:"Jeste - User Details"})},mounted:function(){},data:function(){return{title:"popo1",userId:this.$route.params.id,tabs:[{name:"asked jestes",jestesList:[]},{name:"made jestes",jestesList:[]}],displayTabs:!1,user:null}},computed:{imgUrl:function(){return this.user&&this.user.img&&this.user.img.url?this.user.img.url:"https://vuetifyjs.com/apple-touch-icon-180x180.png"}},methods:{getUser:function(){var t=this;this.$store.dispatch({type:Q,id:this.userId}).then(function(e){t.user=e,t.tabs[0].jestesList=e.req_jestes,t.tabs[1].jestesList=e.res_jestes})}}},vs=ps,hs=(s("316B"),Object(Ot["a"])(vs,ms,fs,!1,null,"17b3ed11",null)),gs=hs.exports,js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-md":""}},[s("v-layout",{staticClass:"container-wrapper",attrs:{"justify-center":"",wrap:""}},[s("v-flex",{attrs:{xs12:"",lg6:""}},[s("Login")],1),s("v-flex",{attrs:{xs12:"",lg6:""}},[s("SignUp")],1)],1)],1)},bs=[],ys=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{grow:""}},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v("Sign Up")])],1),s("v-form",{ref:"formSignUp",on:{submit:function(e){return e.preventDefault(),t.signup(e)}},model:{value:t.validSignUp,callback:function(e){t.validSignUp=e},expression:"validSignUp"}},[s("v-card-text",[s("v-text-field",{attrs:{box:"",label:"First Name","browser-autocomplete":"given-name",rules:t.fNameRules,hint:"Insert your first name",required:""},model:{value:t.user.details.firstName,callback:function(e){t.$set(t.user.details,"firstName",e)},expression:"user.details.firstName"}}),s("v-text-field",{attrs:{box:"",label:"Last Name","browser-autocomplete":"family-name",rules:t.lNameRules,hint:"Insert your last name",required:""},model:{value:t.user.details.lastName,callback:function(e){t.$set(t.user.details,"lastName",e)},expression:"user.details.lastName"}}),s("v-text-field",{attrs:{box:"",label:"E-mail","browser-autocomplete":"email",rules:t.emailRules,hint:"Insert a valid E-mail",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),s("v-text-field",{attrs:{box:"",mask:"phone","browser-autocomplete":"tel",label:"Mobile Phone",rules:t.phoneRules,hint:"Insert your mobile phone number",required:""},model:{value:t.user.mobile,callback:function(e){t.$set(t.user,"mobile",e)},expression:"user.mobile"}}),s("v-text-field",{attrs:{box:"","browser-autocomplete":"new-password",label:"Password",rules:t.passwordRules,type:t.show?"text":"password","append-icon":t.show?"visibility_off":"visibility",hint:"At least 8 characters",required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),s("v-text-field",{ref:"autocomplete",attrs:{box:"",label:"Address",hint:"The address you base at","append-icon":"search",rules:t.addressRules,required:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}},model:{value:t.user.formatted_address,callback:function(e){t.$set(t.user,"formatted_address",e)},expression:"user.formatted_address"}}),s("v-text-field",{attrs:{box:"",type:"number",label:"Age",rules:t.ageRules,hint:"Insert your age",required:""},model:{value:t.user.details.age,callback:function(e){t.$set(t.user.details,"age",e)},expression:"user.details.age"}}),s("v-select",{attrs:{items:["Male","Female"],box:"",label:"Gender",rules:t.genderRules,hint:"Pick your gender",required:""},model:{value:t.user.details.gender,callback:function(e){t.$set(t.user.details,"gender",e)},expression:"user.details.gender"}}),s("ImageUpload",{model:{value:t.imageFile,callback:function(e){t.imageFile=e},expression:"imageFile"}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",type:"submit",disabled:!t.validSignUp,ripple:""}},[t._v("sign up")])],1)],1)],1)},_s=[],xs={name:"signUp",components:{ImageUpload:Ne},mounted:function(){var t=this;this.$gmapApiPromiseLazy().then(function(e){t.google=e,t.initGoogle()})},data:function(){var t=this;return{validSignUp:!0,user:{email:"",password:"",details:{firstName:"",lastName:"",age:"",gender:""},balance:100,mobile:"",image:null,formatted_address:null,address_components:null,base_loc:{type:"Point",coordinates:[null,null]}},imageFile:null,currPlace:null,autocomplete:null,fNameRules:[function(t){return!!t||"First name is required"}],lNameRules:[function(t){return!!t||"Last name is required"}],ageRules:[function(t){return!!t||"Age is required"}],genderRules:[function(t){return!!t||"Gender is required"}],phoneRules:[function(t){return!!t||"Mobile number is required"}],emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"Please enter a valid email"}],passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>=8||"Minimum 8 characters"}],show:!1,addressRules:[function(t){return!!t||"Address is required"},function(e){return!!e&&t.currPlace&&t.currPlace.formatted_address===t.$refs.autocomplete.value||"Please type a valid address"}]}},methods:{signup:function(){var t=this;this.$refs.formSignUp.validate()&&this.$store.dispatch({type:Z,image:this.imageFile}).then(function(e){e&&(t.user.img=e),t.$store.dispatch({type:K,user:t.user}).then(function(e){l.$emit(a,{text:"Sign up succeseed. Now you can login",bgColor:"success"}),t.$router.push("/")}).catch(function(t){l.$emit(a,{text:"Sign up failed. Try again",bgColor:"error"}),console.log(t)})})},initGoogle:function(){var t=this,e=this.$refs.autocomplete.$el.children[0].children[0].children[0].children[1];if(this.autocomplete=new this.google.maps.places.Autocomplete(e,{types:["geocode"]}),navigator.geolocation){var s=this;navigator.geolocation.getCurrentPosition(function(t){var e={lat:t.coords.latitude,lng:t.coords.longitude},r=new window.google.maps.Circle({center:e,radius:t.coords.accuracy});s.autocomplete.setBounds(r.getBounds())})}this.autocomplete.addListener("place_changed",function(){t.currPlace=t.autocomplete.getPlace(),t.user.address_components=t.currPlace.address_components,t.user.formatted_address=t.currPlace.formatted_address,t.user.base_loc.coordinates.splice(0,1,+t.currPlace.geometry.location.lat()),t.user.base_loc.coordinates.splice(1,1,+t.currPlace.geometry.location.lng())})}}},ks=xs,ws=(s("tqRm"),Object(Ot["a"])(ks,ys,_s,!1,null,"68e276a2",null)),Cs=ws.exports,Ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{attrs:{grow:""}},[s("v-toolbar",{staticClass:"white--text",attrs:{color:"primary",flat:""}},[s("v-toolbar-title",[t._v("Login")])],1),s("v-form",{ref:"formLogin",on:{submit:function(e){return e.preventDefault(),t.login(e)}},model:{value:t.validLogin,callback:function(e){t.validLogin=e},expression:"validLogin"}},[s("v-card-text",[s("v-text-field",{attrs:{"browser-autocomplete":"email",box:"",type:"email",label:"E-mail",rules:t.emailRules,hint:"Insert a valid E-mail",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),s("v-text-field",{attrs:{"browser-autocomplete":"current-password",box:"",label:"Password",rules:t.passwordRules,type:t.show?"text":"password","append-icon":t.show?"visibility_off":"visibility",hint:"At least 8 characters",required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",type:"submit",disabled:!t.validLogin,ripple:""}},[t._v("Login")])],1)],1)],1)},$s=[],Ps={name:"login",data:function(){return{validLogin:!0,user:{email:"",password:""},emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"Please enter a valid email"}],show:!1,passwordRules:[function(t){return!!t||"Password is required"}]}},methods:{login:function(){var t=this;this.$refs.formLogin.validate()&&this.$store.dispatch({type:H,user:this.user}).then(function(e){t.$socket.emit("userLogged",{userId:e._id}),l.$emit(a,{text:"Welcome back ".concat(e.details.firstName),bgColor:"success"}),t.$router.push("/")}).catch(function(t){l.$emit(a,{text:"Error, Could'nt sign up",bgColor:"error"}),console.log(t)})}}},Os=Ps,Ds=(s("wB8O"),Object(Ot["a"])(Os,Ss,$s,!1,null,null,null)),Us=Ds.exports,Ls={components:{SignUp:Cs,Login:Us},created:function(){this.$store.commit({type:wt,title:"Jeste - Login"})}},Ts=Ls,Is=(s("MA0R"),Object(Ot["a"])(Ts,js,bs,!1,null,"31f772e2",null)),Es=Is.exports,Js=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ns=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"about"},[s("h1",[t._v("This is an about page")])])}],qs={created:function(){this.$store.commit({type:wt,title:"Jeste - About"})}},Rs=qs,Bs=(s("525C"),Object(Ot["a"])(Rs,Js,Ns,!1,null,null,null)),Fs=Bs.exports;r["default"].use(Lt["a"]);var zs=new Lt["a"]({routes:[{path:"/",name:"home",component:ue},{path:"/login",name:"login",component:Es},{path:"/jeste",name:"jestes",component:he},{path:"/jeste/:id?/edit",name:"jesteEdit",component:Fe},{path:"/jeste/:id",name:"jesteDetails",component:Ke},{path:"/user",name:"users",component:ns},{path:"/user/:id?/edit",name:"userEdit",component:ds},{path:"/user/:id",name:"userDetails",component:gs},{path:"/about",name:"about",component:Fs}]}),Ms=s("lIOY");Object(Ms["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var As=s("zlta"),Xs=s.n(As),Vs=(s("v0CA"),s("xxji")),Ys=s("dV7z"),Gs=s("ChK9"),Hs=s.n(Gs),Ws=s("gFX4"),Qs=s.n(Ws),Zs="AIzaSyB1XEp2JKq8CAO8EbBSDGEvjrVC264DLPA",Ks="/";r["default"].use(Hs.a,Qs()(Ks),St),r["default"].use(Ys,{load:{key:Zs,libraries:"places"}}),r["default"].use(Xs.a,{theme:{primary:"#039BE5",secondary:"#031424",accent:"#424242",text:"#fff",bg:"#e9e9e9",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50"}}),r["default"].use(Vs["a"]),f.a.defaults.withCredentials=!0,r["default"].config.productionTip=!1,r["default"].directive("title",{inserted:function(t,e){return document.title=e.value},update:function(t,e){return document.title=e.value}}),new r["default"]({router:zs,store:St,render:function(t){return t(Ut)}}).$mount("#app")},W4mX:function(t,e,s){"use strict";var r=s("2I9Q"),i=s.n(r);i.a},WqRx:function(t,e,s){},XAuw:function(t,e,s){"use strict";var r=s("EG/1"),i=s.n(r);i.a},"XIf+":function(t,e,s){},Xk33:function(t,e,s){},Z8Bo:function(t,e,s){"use strict";var r=s("VsDt"),i=s.n(r);i.a},cehh:function(t,e,s){"use strict";var r=s("lmh6"),i=s.n(r);i.a},dhuX:function(t,e,s){"use strict";var r=s("gZks"),i=s.n(r);i.a},gZks:function(t,e,s){},lmh6:function(t,e,s){},p9Zd:function(t,e,s){"use strict";var r=s("R+NB"),i=s.n(r);i.a},tqRm:function(t,e,s){"use strict";var r=s("XIf+"),i=s.n(r);i.a},w9Ht:function(t,e,s){},wB8O:function(t,e,s){"use strict";var r=s("yp73"),i=s.n(r);i.a},wKeq:function(t,e,s){"use strict";var r=s("PLeS"),i=s.n(r);i.a},wlWD:function(t,e,s){"use strict";var r=s("w9Ht"),i=s.n(r);i.a},yp73:function(t,e,s){}});
//# sourceMappingURL=app.eb94d95d.js.map